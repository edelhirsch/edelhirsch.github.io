<!doctype html>
<html lang="en">
    <head>    

        <title>controls/QskSkinnable.cpp - Stackbit Libris Theme</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="A documentation theme"/>
        <link href="https://fonts.googleapis.com/css?family=Lato:400,400i,700,700i%26display=swap" rel="stylesheet"> 
        <link rel="stylesheet" href="/assets/css/main.css">
        
    </head>
    <body>
        
        <div id="page" class="site">
  <header id="masthead" class="site-header outer">
  <div class="inner">
    <div class="site-header-inside">
      <div class="site-branding">
        
        
        <p class="site-title"><a href="/"></a></p>
        
      </div><!-- .site-branding -->
      
      
      <nav id="main-navigation" class="site-navigation" aria-label="Main Navigation">
        <div class="site-nav-inside">
          <button id="menu-close" class="menu-toggle"><span class="screen-reader-text">Open Menu</span><span class="icon-close" aria-hidden="true"></span></button>
          <ul class="menu">
          
            
            
            <li class="menu-item">
              
              
<a class="" href="/">
  
  Home
  
</a>

              
            </li>
          
            
            
            <li class="menu-item">
              
              
<a class="" href="/docs">
  
  Documentation
  
</a>

              
            </li>
          
            
            
            <li class="menu-item menu-button">
              
              
<a class="button" href="https://github.com/uwerat/qskinny">
  
  GitHub
  
</a>

              
            </li>
          
          </ul>
        </div><!-- .site-nav-inside -->
      </nav><!-- .site-navigation -->
      <button id="menu-open" class="menu-toggle"><span class="screen-reader-text">Close Menu</span><span class="icon-menu" aria-hidden="true"></span></button>
      
    </div><!-- .site-header-inside -->
  </div><!-- .inner -->
</header><!-- .site-header -->

  <main id="content" class="site-content">
    <div class="inner outer">
  <div class="docs-content">
    
    




<nav id="docs-nav" class="docs-nav">
  <div id="docs-nav-inside" class="docs-nav-inside sticky">
    <button id="docs-nav-toggle" class="docs-nav-toggle">Navigate Docs<span class="icon-angle-right" aria-hidden="true"></span></button>
    <div class="docs-nav-menu">
      <ul id="docs-menu" class="docs-menu">
        <li class="docs-menu-item">
          <a href="/docs/">Introduction</a>
        </li>
        
          
          
          
          
          
          
          
          <li class="docs-menu-item has-children">
            <a href="/docs/tutorials/">Tutorials</a>
            
            
              <button class="docs-submenu-toggle"><span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span></button>
              
              


<ul class="docs-submenu">
  
    <li class="docs-menu-item">
      <a href="/docs/tutorials/1-QSkinny/">1. Introduction</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/tutorials/2-writing-your-first-application/">2. Writing your first application</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/tutorials/3-Layouts/">3. Layouts</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/tutorials/4-Skins/">4. Skins</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/tutorials/5-scalable-graphics/">5. (Scalable) graphics</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/tutorials/6-parents-and-parent-items/">6. Parents and parent items</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/tutorials/7-qskinny-and-qml/">7. Using QSkinny and QML</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/tutorials/8-writing-own-controls/">8. Writing own controls</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/tutorials/9-scene-graph/">9. Scene graph representations of controls</a>
    </li>
  
</ul>

            
          </li>
        
          
          
          
          
          
          
          
          <li class="docs-menu-item has-children">
            <a href="/docs/modules/">Modules</a>
            
            
              <button class="docs-submenu-toggle"><span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span></button>
              
              


<ul class="docs-submenu">
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group__Animation/">Animation</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group__Controls/">Controls</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group__Core/">Core</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group__Dialogs/">Dialogs</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group__Framework/">Framework</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group__Graphic/">Graphic</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group__Layouts/">Layouts</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group__Scenegraph/">Scenegraph</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group__Skinlets/">Skinlets</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group__Themeing/">Themeing</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group___animation/">Animation</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group___container/">Container</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group___controls/">Controls</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group___core/">Core</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group___dialogs/">Dialogs</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group___framework/">Framework</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group___graphic/">Graphic</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group___layouts/">Layouts</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group___scenegraph/">Scenegraph</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group___skinlets/">Skinlets</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group___themeing/">Themeing</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group__container/">Container</a>
    </li>
  
</ul>

            
          </li>
        
          
          
          
          
          
          
          
          <li class="docs-menu-item has-children">
            <a href="/docs/classes/">Classes</a>
            
            
              <button class="docs-submenu-toggle"><span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span></button>
              
              


<ul class="docs-submenu">
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskAbstractButton/">QskAbstractButton</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskAnimationHint/">QskAnimationHint</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskAnimator/">QskAnimator</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskAnimatorDriver/">QskAnimatorDriver</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskAnimatorEvent/">QskAnimatorEvent</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskAspect/">QskAspect</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoundedControl/">QskBoundedControl</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoundedInput/">QskBoundedInput</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoundedRangeInput/">QskBoundedRangeInput</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoundedValueInput/">QskBoundedValueInput</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBox/">QskBox</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoxBorderColors/">QskBoxBorderColors</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoxBorderMetrics/">QskBoxBorderMetrics</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoxClipNode/">QskBoxClipNode</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoxNode/">QskBoxNode</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoxRenderer/">QskBoxRenderer</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoxRendererColorMap/">QskBoxRendererColorMap</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoxShapeMetrics/">QskBoxShapeMetrics</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoxSkinlet/">QskBoxSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskColorFilter/">QskColorFilter</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskControl/">QskControl</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskCorner/">QskCorner</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskDialog/">QskDialog</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskDialogButton/">QskDialogButton</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskDialogButtonBox/">QskDialogButtonBox</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskDialogSubWindow/">QskDialogSubWindow</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskDialogWindow/">QskDialogWindow</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskDirtyItemFilter/">QskDirtyItemFilter</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskEvent/">QskEvent</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskFlickAnimator/">QskFlickAnimator</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskFocusIndicator/">QskFocusIndicator</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskFocusIndicatorSkinlet/">QskFocusIndicatorSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGeometryChangeEvent/">QskGeometryChangeEvent</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGesture/">QskGesture</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGestureEvent/">QskGestureEvent</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGestureRecognizer/">QskGestureRecognizer</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGradient/">QskGradient</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGradientStop/">QskGradientStop</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGraphic/">QskGraphic</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGraphicIO/">QskGraphicIO</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGraphicImageProvider/">QskGraphicImageProvider</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGraphicLabel/">QskGraphicLabel</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGraphicLabelSkinlet/">QskGraphicLabelSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGraphicNode/">QskGraphicNode</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGraphicPaintEngine/">QskGraphicPaintEngine</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGraphicProvider/">QskGraphicProvider</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGraphicProviderMap/">QskGraphicProviderMap</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGraphicTextureFactory/">QskGraphicTextureFactory</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGridBox/">QskGridBox</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGridLayoutEngine/">QskGridLayoutEngine</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskHintAnimator/">QskHintAnimator</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskHintAnimatorTable/">QskHintAnimatorTable</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskIndexedLayoutBox/">QskIndexedLayoutBox</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskInputContext/">QskInputContext</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskInputContextFactory/">QskInputContextFactory</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskInputGrabber/">QskInputGrabber</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskInputPanel/">QskInputPanel</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskInputPanelBox/">QskInputPanelBox</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskInputPredictionBar/">QskInputPredictionBar</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskIntervalF/">QskIntervalF</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskLayoutChain/">QskLayoutChain</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskLayoutEngine2D/">QskLayoutEngine2D</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskLayoutHint/">QskLayoutHint</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskLinearBox/">QskLinearBox</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskLinearLayoutEngine/">QskLinearLayoutEngine</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskListView/">QskListView</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskListViewNode/">QskListViewNode</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskListViewSkinlet/">QskListViewSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskMargins/">QskMargins</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskMessageSubWindow/">QskMessageSubWindow</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskMessageWindow/">QskMessageWindow</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskMetaFunction/">QskMetaFunction</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskMetaInvokable/">QskMetaInvokable</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskObjectCounter/">QskObjectCounter</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskObjectCounterHook/">QskObjectCounterHook</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPageIndicator/">QskPageIndicator</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPageIndicatorSkinlet/">QskPageIndicatorSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPaintedNode/">QskPaintedNode</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPainterCommand/">QskPainterCommand</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPanGesture/">QskPanGesture</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPanGestureRecognizer/">QskPanGestureRecognizer</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPlainTextRenderer/">QskPlainTextRenderer</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPopup/">QskPopup</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPopupEvent/">QskPopupEvent</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPopupSkinlet/">QskPopupSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskProgressBar/">QskProgressBar</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskProgressBarSkinlet/">QskProgressBarSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPushButton/">QskPushButton</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPushButtonSkinlet/">QskPushButtonSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskQuick/">QskQuick</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskQuickItem/">QskQuickItem</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskRgbPalette/">QskRgbPalette</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskRgbValue/">QskRgbValue</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskRichTextRenderer/">QskRichTextRenderer</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSGNode/">QskSGNode</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskScaleEngine/">QskScaleEngine</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskScaleRenderer/">QskScaleRenderer</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskScaleTickmarks/">QskScaleTickmarks</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskScrollArea/">QskScrollArea</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskScrollBox/">QskScrollBox</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskScrollView/">QskScrollView</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskScrollViewSkinlet/">QskScrollViewSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSelectionSubWindow/">QskSelectionSubWindow</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSelectionWindow/">QskSelectionWindow</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSeparator/">QskSeparator</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSeparatorSkinlet/">QskSeparatorSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSetup/">QskSetup</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskShadowMetrics/">QskShadowMetrics</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskShortcutHandler/">QskShortcutHandler</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskShortcutMap/">QskShortcutMap</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSimpleListBox/">QskSimpleListBox</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSizePolicy/">QskSizePolicy</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSkin/">QskSkin</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSkinFactory/">QskSkinFactory</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSkinHintStatus/">QskSkinHintStatus</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSkinHintTable/">QskSkinHintTable</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSkinHintTableEditor/">QskSkinHintTableEditor</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSkinManager/">QskSkinManager</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSkinTransition/">QskSkinTransition</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSkinlet/">QskSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSkinnable/">QskSkinnable</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSlider/">QskSlider</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSliderSkinlet/">QskSliderSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskStackBox/">QskStackBox</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskStackBoxAnimator/">QskStackBoxAnimator</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskStackBoxAnimator1/">QskStackBoxAnimator1</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskStackBoxAnimator3/">QskStackBoxAnimator3</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskStandardSymbol/">QskStandardSymbol</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskStatusIndicator/">QskStatusIndicator</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskStatusIndicatorSkinlet/">QskStatusIndicatorSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSubWindow/">QskSubWindow</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSubWindowArea/">QskSubWindowArea</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSubWindowAreaSkinlet/">QskSubWindowAreaSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSubWindowSkinlet/">QskSubWindowSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSwipeGesture/">QskSwipeGesture</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTabBar/">QskTabBar</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTabButton/">QskTabButton</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTabButtonSkinlet/">QskTabButtonSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTabView/">QskTabView</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTabViewSkinlet/">QskTabViewSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTapAndHoldGesture/">QskTapAndHoldGesture</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTapGesture/">QskTapGesture</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextColors/">QskTextColors</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextInput/">QskTextInput</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextInputSkinlet/">QskTextInputSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextLabel/">QskTextLabel</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextLabelSkinlet/">QskTextLabelSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextNode/">QskTextNode</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextOptions/">QskTextOptions</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextPredictor/">QskTextPredictor</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextRenderer/">QskTextRenderer</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextureNode/">QskTextureNode</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextureNodePrivate/">QskTextureNodePrivate</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextureRenderer/">QskTextureRenderer</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTickmarksNode/">QskTickmarksNode</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTickmarksNodePrivate/">QskTickmarksNodePrivate</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskVariantAnimator/">QskVariantAnimator</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskVertex/">QskVertex</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskVirtualKeyboard/">QskVirtualKeyboard</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskWindow/">QskWindow</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskWindowChangeEvent/">QskWindowChangeEvent</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskWindowPrivate/">QskWindowPrivate</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/structQskVirtualKeyboardLayouts/">QskVirtualKeyboardLayouts</a>
    </li>
  
</ul>

            
          </li>
        
      </ul><!-- .docs-menu -->
    </div><!-- .docs-nav-menu -->
  </div><!-- .docs-nav-inside -->
</nav><!-- .docs-nav -->

    <article class="post type-docs">
      <div class="post-inside">
        <header class="post-header">
          <h1 class="post-title line-left">controls/QskSkinnable.cpp</h1>
        </header><!-- .post-header -->
        <div class="post-content">
          <h2 id="functions">Functions</h2>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>Name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>bool</td>
      <td><strong><a href="/docs/files/QskSkinnable_8cpp/#function-qskiscontrol">qskIsControl</a></strong>(const QskSkinnable * skinnable)</td>
    </tr>
    <tr>
      <td>QVariant</td>
      <td><strong><a href="/docs/files/QskSkinnable_8cpp/#function-qsktypednullvalue">qskTypedNullValue</a></strong>(const QVariant &amp; value)</td>
    </tr>
    <tr>
      <td>bool</td>
      <td><strong><a href="/docs/files/QskSkinnable_8cpp/#function-qsksetflag">qskSetFlag</a></strong>(QskSkinnable * skinnable, const <a href="/docs/classes/classQskAspect/">QskAspect</a> aspect, int flag)</td>
    </tr>
    <tr>
      <td>int</td>
      <td><strong><a href="/docs/files/QskSkinnable_8cpp/#function-qskflag">qskFlag</a></strong>(const QskSkinnable * skinnable, const <a href="/docs/classes/classQskAspect/">QskAspect</a> aspect, QskSkinHintStatus * status =nullptr)</td>
    </tr>
    <tr>
      <td>bool</td>
      <td><strong><a href="/docs/files/QskSkinnable_8cpp/#function-qsksetmetric">qskSetMetric</a></strong>(QskSkinnable * skinnable, const <a href="/docs/classes/classQskAspect/">QskAspect</a> aspect, const QVariant &amp; metric)</td>
    </tr>
    <tr>
      <td>template &lt;typename T &gt; <br />bool</td>
      <td><strong><a href="/docs/files/QskSkinnable_8cpp/#function-qsksetmetric">qskSetMetric</a></strong>(QskSkinnable * skinnable, <a href="/docs/classes/classQskAspect/">QskAspect</a> aspect, const T &amp; metric)</td>
    </tr>
    <tr>
      <td>template &lt;typename T &gt; <br />T</td>
      <td><strong><a href="/docs/files/QskSkinnable_8cpp/#function-qskmetric">qskMetric</a></strong>(const QskSkinnable * skinnable, <a href="/docs/classes/classQskAspect/">QskAspect</a> aspect, QskSkinHintStatus * status =nullptr)</td>
    </tr>
    <tr>
      <td>bool</td>
      <td><strong><a href="/docs/files/QskSkinnable_8cpp/#function-qsksetcolor">qskSetColor</a></strong>(QskSkinnable * skinnable, const <a href="/docs/classes/classQskAspect/">QskAspect</a> aspect, const QVariant &amp; color)</td>
    </tr>
    <tr>
      <td>template &lt;typename T &gt; <br />bool</td>
      <td><strong><a href="/docs/files/QskSkinnable_8cpp/#function-qsksetcolor">qskSetColor</a></strong>(QskSkinnable * skinnable, const <a href="/docs/classes/classQskAspect/">QskAspect</a> aspect, const T &amp; color)</td>
    </tr>
    <tr>
      <td>template &lt;typename T &gt; <br />T</td>
      <td><strong><a href="/docs/files/QskSkinnable_8cpp/#function-qskcolor">qskColor</a></strong>(const QskSkinnable * skinnable, <a href="/docs/classes/classQskAspect/">QskAspect</a> aspect, QskSkinHintStatus * status =nullptr)</td>
    </tr>
    <tr>
      <td>void</td>
      <td><strong><a href="/docs/files/QskSkinnable_8cpp/#function-qsktriggerupdates">qskTriggerUpdates</a></strong>(<a href="/docs/classes/classQskAspect/">QskAspect</a> aspect, <a href="/docs/classes/classQskControl/">QskControl</a> * control)</td>
    </tr>
    <tr>
      <td><a href="/docs/classes/classQskAspect/">QskAspect</a></td>
      <td><strong><a href="/docs/files/QskSkinnable_8cpp/#function-qsksubstitutedaspect">qskSubstitutedAspect</a></strong>(const QskSkinnable * skinnable, <a href="/docs/classes/classQskAspect/">QskAspect</a> aspect)</td>
    </tr>
    <tr>
      <td>QskMargins</td>
      <td><strong><a href="/docs/files/QskSkinnable_8cpp/#function-qskeffectivepadding">qskEffectivePadding</a></strong>(const QskSkinnable * skinnable, <a href="/docs/classes/classQskAspect/">QskAspect</a> aspect, const QSizeF &amp; size, bool inner)</td>
    </tr>
    <tr>
      <td>QDebug</td>
      <td><strong><a href="/docs/files/QskSkinnable_8cpp/#function-operator&lt;&lt;">operator«</a></strong>(QDebug debug, const QskSkinHintStatus &amp; status)</td>
    </tr>
  </tbody>
</table>

<h2 id="defines">Defines</h2>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>Name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td> </td>
      <td><strong><a href="/docs/files/QskSkinnable_8cpp/#define-debug_map">DEBUG_MAP</a></strong></td>
    </tr>
    <tr>
      <td> </td>
      <td><strong><a href="/docs/files/QskSkinnable_8cpp/#define-debug_animator">DEBUG_ANIMATOR</a></strong></td>
    </tr>
    <tr>
      <td> </td>
      <td><strong><a href="/docs/files/QskSkinnable_8cpp/#define-debug_state">DEBUG_STATE</a></strong></td>
    </tr>
  </tbody>
</table>

<h2 id="functions-documentation">Functions Documentation</h2>

<h3 id="function-qskiscontrol">function qskIsControl</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">static</span> <span class="kr">inline</span> <span class="kt">bool</span> <span class="n">qskIsControl</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QskSkinnable</span> <span class="o">*</span> <span class="n">skinnable</span>
<span class="p">)</span>
</code></pre></div></div>

<h3 id="function-qsktypednullvalue">function qskTypedNullValue</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">static</span> <span class="kr">inline</span> <span class="n">QVariant</span> <span class="n">qskTypedNullValue</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QVariant</span> <span class="o">&amp;</span> <span class="n">value</span>
<span class="p">)</span>
</code></pre></div></div>

<h3 id="function-qsksetflag">function qskSetFlag</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">static</span> <span class="kr">inline</span> <span class="kt">bool</span> <span class="n">qskSetFlag</span><span class="p">(</span>
    <span class="n">QskSkinnable</span> <span class="o">*</span> <span class="n">skinnable</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">flag</span>
<span class="p">)</span>
</code></pre></div></div>

<h3 id="function-qskflag">function qskFlag</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="n">qskFlag</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QskSkinnable</span> <span class="o">*</span> <span class="n">skinnable</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span>
    <span class="n">QskSkinHintStatus</span> <span class="o">*</span> <span class="n">status</span> <span class="o">=</span><span class="nb">nullptr</span>
<span class="p">)</span>
</code></pre></div></div>

<h3 id="function-qsksetmetric">function qskSetMetric</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">static</span> <span class="kr">inline</span> <span class="kt">bool</span> <span class="n">qskSetMetric</span><span class="p">(</span>
    <span class="n">QskSkinnable</span> <span class="o">*</span> <span class="n">skinnable</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">QVariant</span> <span class="o">&amp;</span> <span class="n">metric</span>
<span class="p">)</span>
</code></pre></div></div>

<h3 id="function-qsksetmetric-1">function qskSetMetric</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span> <span class="o">&gt;</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">bool</span> <span class="n">qskSetMetric</span><span class="p">(</span>
    <span class="n">QskSkinnable</span> <span class="o">*</span> <span class="n">skinnable</span><span class="p">,</span>
    <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">T</span> <span class="o">&amp;</span> <span class="n">metric</span>
<span class="p">)</span>
</code></pre></div></div>

<h3 id="function-qskmetric">function qskMetric</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span> <span class="o">&gt;</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="n">T</span> <span class="n">qskMetric</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QskSkinnable</span> <span class="o">*</span> <span class="n">skinnable</span><span class="p">,</span>
    <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span>
    <span class="n">QskSkinHintStatus</span> <span class="o">*</span> <span class="n">status</span> <span class="o">=</span><span class="nb">nullptr</span>
<span class="p">)</span>
</code></pre></div></div>

<h3 id="function-qsksetcolor">function qskSetColor</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">static</span> <span class="kr">inline</span> <span class="kt">bool</span> <span class="n">qskSetColor</span><span class="p">(</span>
    <span class="n">QskSkinnable</span> <span class="o">*</span> <span class="n">skinnable</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">QVariant</span> <span class="o">&amp;</span> <span class="n">color</span>
<span class="p">)</span>
</code></pre></div></div>

<h3 id="function-qsksetcolor-1">function qskSetColor</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span> <span class="o">&gt;</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">bool</span> <span class="n">qskSetColor</span><span class="p">(</span>
    <span class="n">QskSkinnable</span> <span class="o">*</span> <span class="n">skinnable</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">T</span> <span class="o">&amp;</span> <span class="n">color</span>
<span class="p">)</span>
</code></pre></div></div>

<h3 id="function-qskcolor">function qskColor</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span> <span class="o">&gt;</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="n">T</span> <span class="n">qskColor</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QskSkinnable</span> <span class="o">*</span> <span class="n">skinnable</span><span class="p">,</span>
    <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span>
    <span class="n">QskSkinHintStatus</span> <span class="o">*</span> <span class="n">status</span> <span class="o">=</span><span class="nb">nullptr</span>
<span class="p">)</span>
</code></pre></div></div>

<h3 id="function-qsktriggerupdates">function qskTriggerUpdates</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="n">qskTriggerUpdates</span><span class="p">(</span>
    <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span>
    <span class="n">QskControl</span> <span class="o">*</span> <span class="n">control</span>
<span class="p">)</span>
</code></pre></div></div>

<h3 id="function-qsksubstitutedaspect">function qskSubstitutedAspect</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">static</span> <span class="kr">inline</span> <span class="n">QskAspect</span> <span class="n">qskSubstitutedAspect</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QskSkinnable</span> <span class="o">*</span> <span class="n">skinnable</span><span class="p">,</span>
    <span class="n">QskAspect</span> <span class="n">aspect</span>
<span class="p">)</span>
</code></pre></div></div>

<h3 id="function-qskeffectivepadding">function qskEffectivePadding</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">static</span> <span class="kr">inline</span> <span class="n">QskMargins</span> <span class="n">qskEffectivePadding</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QskSkinnable</span> <span class="o">*</span> <span class="n">skinnable</span><span class="p">,</span>
    <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">QSizeF</span> <span class="o">&amp;</span> <span class="n">size</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">inner</span>
<span class="p">)</span>
</code></pre></div></div>

<h3 id="function-operator">function operator«</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">QDebug</span> <span class="k">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span>
    <span class="n">QDebug</span> <span class="n">debug</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">QskSkinHintStatus</span> <span class="o">&amp;</span> <span class="n">status</span>
<span class="p">)</span>
</code></pre></div></div>

<h2 id="macro-documentation">Macro Documentation</h2>

<h3 id="define-debug_map">define DEBUG_MAP</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#define DEBUG_MAP 0
</span></code></pre></div></div>

<h3 id="define-debug_animator">define DEBUG_ANIMATOR</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#define DEBUG_ANIMATOR 0
</span></code></pre></div></div>

<h3 id="define-debug_state">define DEBUG_STATE</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#define DEBUG_STATE 0
</span></code></pre></div></div>

<h2 id="source-code">Source code</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/******************************************************************************
 * QSkinny - Copyright (C) 2016 Uwe Rathmann
 * This file may be used under the terms of the QSkinny License, Version 1.0
 *****************************************************************************/</span>

<span class="cp">#include "QskSkinnable.h"
</span>
<span class="cp">#include "QskAnimationHint.h"
#include "QskAspect.h"
#include "QskColorFilter.h"
#include "QskControl.h"
#include "QskHintAnimator.h"
#include "QskMargins.h"
#include "QskSetup.h"
#include "QskSkin.h"
#include "QskSkinHintTable.h"
#include "QskSkinTransition.h"
#include "QskSkinlet.h"
</span>
<span class="cp">#include "QskBoxShapeMetrics.h"
#include "QskBoxBorderMetrics.h"
#include "QskBoxBorderColors.h"
#include "QskGradient.h"
</span>
<span class="cp">#include &lt;qfont.h&gt;
</span>
<span class="cp">#define DEBUG_MAP 0
#define DEBUG_ANIMATOR 0
#define DEBUG_STATE 0
</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">bool</span> <span class="nf">qskIsControl</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskSkinnable</span><span class="o">*</span> <span class="n">skinnable</span> <span class="p">)</span>
<span class="p">{</span>
<span class="cp">#if QT_VERSION &gt;= QT_VERSION_CHECK( 5, 7, 0 )
</span>    <span class="k">return</span> <span class="n">skinnable</span><span class="o">-&gt;</span><span class="n">metaObject</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">inherits</span><span class="p">(</span> <span class="o">&amp;</span><span class="n">QskControl</span><span class="o">::</span><span class="n">staticMetaObject</span> <span class="p">);</span>
<span class="cp">#else
</span>    <span class="k">for</span> <span class="p">(</span> <span class="k">auto</span> <span class="n">mo</span> <span class="o">=</span> <span class="n">skinnable</span><span class="o">-&gt;</span><span class="n">metaObject</span><span class="p">();</span>
        <span class="n">mo</span> <span class="o">!=</span> <span class="nb">nullptr</span><span class="p">;</span> <span class="n">mo</span> <span class="o">=</span> <span class="n">mo</span><span class="o">-&gt;</span><span class="n">superClass</span><span class="p">()</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">mo</span> <span class="o">==</span> <span class="o">&amp;</span><span class="n">QskControl</span><span class="o">::</span><span class="n">staticMetaObject</span> <span class="p">)</span>
            <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="cp">#endif
</span><span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">QVariant</span> <span class="nf">qskTypedNullValue</span><span class="p">(</span> <span class="k">const</span> <span class="n">QVariant</span><span class="o">&amp;</span> <span class="n">value</span> <span class="p">)</span>
<span class="p">{</span>
<span class="cp">#if QT_VERSION &gt;= QT_VERSION_CHECK( 6, 0, 0 )
</span>    <span class="k">const</span> <span class="k">auto</span> <span class="n">vType</span> <span class="o">=</span> <span class="k">static_cast</span><span class="o">&lt;</span> <span class="n">QMetaType</span> <span class="o">&gt;</span><span class="p">(</span> <span class="n">value</span><span class="p">.</span><span class="n">userType</span><span class="p">()</span> <span class="p">);</span>
<span class="cp">#else
</span>    <span class="k">const</span> <span class="k">auto</span> <span class="n">vType</span> <span class="o">=</span> <span class="n">value</span><span class="p">.</span><span class="n">userType</span><span class="p">();</span>
<span class="cp">#endif
</span>
    <span class="k">return</span> <span class="n">QVariant</span><span class="p">(</span> <span class="n">vType</span><span class="p">,</span> <span class="nb">nullptr</span> <span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">bool</span> <span class="nf">qskSetFlag</span><span class="p">(</span> <span class="n">QskSkinnable</span><span class="o">*</span> <span class="n">skinnable</span><span class="p">,</span>
     <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="kt">int</span> <span class="n">flag</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">skinnable</span><span class="o">-&gt;</span><span class="n">setSkinHint</span><span class="p">(</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Flag</span><span class="p">,</span> <span class="n">QVariant</span><span class="p">(</span> <span class="n">flag</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">qskFlag</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskSkinnable</span><span class="o">*</span> <span class="n">skinnable</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QskSkinHintStatus</span><span class="o">*</span> <span class="n">status</span> <span class="o">=</span> <span class="nb">nullptr</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">skinnable</span><span class="o">-&gt;</span><span class="n">effectiveSkinHint</span><span class="p">(</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Flag</span><span class="p">,</span> <span class="n">status</span> <span class="p">).</span><span class="n">toInt</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">bool</span> <span class="nf">qskSetMetric</span><span class="p">(</span> <span class="n">QskSkinnable</span><span class="o">*</span> <span class="n">skinnable</span><span class="p">,</span>
     <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="k">const</span> <span class="n">QVariant</span><span class="o">&amp;</span> <span class="n">metric</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">skinnable</span><span class="o">-&gt;</span><span class="n">setSkinHint</span><span class="p">(</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Metric</span><span class="p">,</span> <span class="n">metric</span> <span class="p">);</span>
<span class="p">}</span>

<span class="k">template</span><span class="o">&lt;</span> <span class="k">typename</span> <span class="n">T</span> <span class="o">&gt;</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">bool</span> <span class="n">qskSetMetric</span><span class="p">(</span> <span class="n">QskSkinnable</span><span class="o">*</span> <span class="n">skinnable</span><span class="p">,</span>
    <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">metric</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskSetMetric</span><span class="p">(</span> <span class="n">skinnable</span><span class="p">,</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QVariant</span><span class="o">::</span><span class="n">fromValue</span><span class="p">(</span> <span class="n">metric</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="k">template</span><span class="o">&lt;</span> <span class="k">typename</span> <span class="n">T</span> <span class="o">&gt;</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="n">T</span> <span class="n">qskMetric</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskSkinnable</span><span class="o">*</span> <span class="n">skinnable</span><span class="p">,</span>
    <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QskSkinHintStatus</span><span class="o">*</span> <span class="n">status</span> <span class="o">=</span> <span class="nb">nullptr</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">skinnable</span><span class="o">-&gt;</span><span class="n">effectiveSkinHint</span><span class="p">(</span>
        <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Metric</span><span class="p">,</span> <span class="n">status</span> <span class="p">).</span><span class="n">value</span><span class="o">&lt;</span> <span class="n">T</span> <span class="o">&gt;</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">bool</span> <span class="n">qskSetColor</span><span class="p">(</span> <span class="n">QskSkinnable</span><span class="o">*</span> <span class="n">skinnable</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="k">const</span> <span class="n">QVariant</span><span class="o">&amp;</span> <span class="n">color</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">skinnable</span><span class="o">-&gt;</span><span class="n">setSkinHint</span><span class="p">(</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Color</span><span class="p">,</span> <span class="n">color</span> <span class="p">);</span>
<span class="p">}</span>

<span class="k">template</span><span class="o">&lt;</span> <span class="k">typename</span> <span class="n">T</span> <span class="o">&gt;</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">bool</span> <span class="n">qskSetColor</span><span class="p">(</span> <span class="n">QskSkinnable</span><span class="o">*</span> <span class="n">skinnable</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">color</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskSetColor</span><span class="p">(</span> <span class="n">skinnable</span><span class="p">,</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QVariant</span><span class="o">::</span><span class="n">fromValue</span><span class="p">(</span> <span class="n">color</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="k">template</span><span class="o">&lt;</span> <span class="k">typename</span> <span class="n">T</span> <span class="o">&gt;</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="n">T</span> <span class="n">qskColor</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskSkinnable</span><span class="o">*</span> <span class="n">skinnable</span><span class="p">,</span>
    <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QskSkinHintStatus</span><span class="o">*</span> <span class="n">status</span> <span class="o">=</span> <span class="nb">nullptr</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">skinnable</span><span class="o">-&gt;</span><span class="n">effectiveSkinHint</span><span class="p">(</span>
        <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Color</span><span class="p">,</span> <span class="n">status</span> <span class="p">).</span><span class="n">value</span><span class="o">&lt;</span> <span class="n">T</span> <span class="o">&gt;</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="n">qskTriggerUpdates</span><span class="p">(</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QskControl</span><span class="o">*</span> <span class="n">control</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="cm">/*
        To put the hint into effect we have to call the usual suspects:

            - resetImplicitSize
            - polish
            - update

        The following code decides about these calls based on type/primitive
        of the aspect. It can be expected, that it results in more calls
        than what would be mandatory and in rare cases we might even miss necessary
        calls. This has to be fixed by doing the call manually in the specific
        controls.
     */</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">control</span> <span class="o">==</span> <span class="nb">nullptr</span> <span class="o">||</span> <span class="n">aspect</span><span class="p">.</span><span class="n">isAnimator</span><span class="p">()</span> <span class="p">)</span>
        <span class="k">return</span><span class="p">;</span>

    <span class="kt">bool</span> <span class="n">maybeLayout</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>

    <span class="k">switch</span><span class="p">(</span> <span class="n">aspect</span><span class="p">.</span><span class="n">type</span><span class="p">()</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">using</span> <span class="n">A</span> <span class="o">=</span> <span class="n">QskAspect</span><span class="p">;</span>

        <span class="k">case</span> <span class="n">A</span><span class="p">:</span><span class="o">:</span><span class="n">Metric</span><span class="o">:</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span> <span class="n">aspect</span><span class="p">.</span><span class="n">metricPrimitive</span><span class="p">()</span> <span class="o">!=</span> <span class="n">A</span><span class="o">::</span><span class="n">Position</span> <span class="p">)</span>
            <span class="p">{</span>
                <span class="n">control</span><span class="o">-&gt;</span><span class="n">resetImplicitSize</span><span class="p">();</span>
                <span class="n">maybeLayout</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">case</span> <span class="n">A</span><span class="p">:</span><span class="o">:</span><span class="n">Color</span><span class="o">:</span>
        <span class="p">{</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">case</span> <span class="n">A</span><span class="p">:</span><span class="o">:</span><span class="n">Flag</span><span class="o">:</span>
        <span class="p">{</span>
            <span class="k">switch</span><span class="p">(</span> <span class="n">aspect</span><span class="p">.</span><span class="n">flagPrimitive</span><span class="p">()</span> <span class="p">)</span>
            <span class="p">{</span>
                <span class="k">case</span> <span class="n">A</span><span class="p">:</span><span class="o">:</span><span class="n">GraphicRole</span><span class="o">:</span>
                <span class="k">case</span> <span class="n">A</span><span class="p">:</span><span class="o">:</span><span class="n">FontRole</span><span class="o">:</span>
                <span class="p">{</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">case</span> <span class="n">A</span><span class="p">:</span><span class="o">:</span><span class="n">Alignment</span><span class="o">:</span>
                <span class="p">{</span>
                    <span class="n">maybeLayout</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">default</span><span class="o">:</span>
                <span class="p">{</span>
                    <span class="n">control</span><span class="o">-&gt;</span><span class="n">resetImplicitSize</span><span class="p">();</span>
                    <span class="n">maybeLayout</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="n">control</span><span class="o">-&gt;</span><span class="n">update</span><span class="p">();</span> <span class="c1">// always</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">maybeLayout</span> <span class="o">&amp;&amp;</span> <span class="n">control</span><span class="o">-&gt;</span><span class="n">hasChildItems</span><span class="p">()</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">control</span><span class="o">-&gt;</span><span class="n">polishOnResize</span><span class="p">()</span> <span class="o">||</span> <span class="n">control</span><span class="o">-&gt;</span><span class="n">autoLayoutChildren</span><span class="p">()</span> <span class="p">)</span>
            <span class="n">control</span><span class="o">-&gt;</span><span class="n">polish</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">QskAspect</span> <span class="n">qskSubstitutedAspect</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QskSkinnable</span><span class="o">*</span> <span class="n">skinnable</span><span class="p">,</span> <span class="n">QskAspect</span> <span class="n">aspect</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">aspect</span><span class="p">.</span><span class="n">hasState</span><span class="p">()</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="n">qWarning</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">"QskSkinnable::(re)setSkinHint: setting hints with states "</span>
                      <span class="s">"is discouraged - use QskSkinTableEditor if you are "</span>
                      <span class="s">"sure, that you need this."</span><span class="p">;</span>

        <span class="n">qWarning</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">"QskAspect:"</span> <span class="o">&lt;&lt;</span> <span class="n">aspect</span><span class="p">.</span><span class="n">stateless</span><span class="p">()</span>
                   <span class="o">&lt;&lt;</span> <span class="n">skinnable</span><span class="o">-&gt;</span><span class="n">skinStateAsPrintable</span><span class="p">(</span> <span class="n">aspect</span><span class="p">.</span><span class="n">state</span><span class="p">()</span> <span class="p">);</span>

<span class="c">#if 0
        aspect.clearStates();
#endif
</span>    <span class="p">}</span>

    <span class="n">aspect</span><span class="p">.</span><span class="n">setSubControl</span><span class="p">(</span> <span class="n">skinnable</span><span class="o">-&gt;</span><span class="n">effectiveSubcontrol</span><span class="p">(</span> <span class="n">aspect</span><span class="p">.</span><span class="n">subControl</span><span class="p">()</span> <span class="p">)</span> <span class="p">);</span>
    <span class="k">return</span> <span class="n">aspect</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">QskSkinnable</span><span class="o">::</span><span class="n">PrivateData</span>
<span class="p">{</span>
  <span class="k">public</span><span class="o">:</span>
    <span class="n">PrivateData</span><span class="p">()</span>
        <span class="o">:</span> <span class="n">skinlet</span><span class="p">(</span> <span class="nb">nullptr</span> <span class="p">)</span>
        <span class="p">,</span> <span class="n">skinState</span><span class="p">(</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">NoState</span> <span class="p">)</span>
        <span class="p">,</span> <span class="n">hasLocalSkinlet</span><span class="p">(</span> <span class="nb">false</span> <span class="p">)</span>
    <span class="p">{</span>
    <span class="p">}</span>

    <span class="o">~</span><span class="n">PrivateData</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">hasLocalSkinlet</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span> <span class="n">skinlet</span> <span class="o">&amp;&amp;</span> <span class="n">skinlet</span><span class="o">-&gt;</span><span class="n">isOwnedBySkinnable</span><span class="p">()</span> <span class="p">)</span>
                <span class="k">delete</span> <span class="n">skinlet</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="n">QskSkinHintTable</span> <span class="n">hintTable</span><span class="p">;</span>
    <span class="n">QskHintAnimatorTable</span> <span class="n">animators</span><span class="p">;</span>

    <span class="k">const</span> <span class="n">QskSkinlet</span><span class="o">*</span> <span class="n">skinlet</span><span class="p">;</span>

    <span class="n">QskAspect</span><span class="o">::</span><span class="n">State</span> <span class="n">skinState</span><span class="p">;</span>
    <span class="kt">bool</span> <span class="n">hasLocalSkinlet</span> <span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">QskSkinnable</span><span class="o">::</span><span class="n">QskSkinnable</span><span class="p">()</span>
    <span class="o">:</span> <span class="n">m_data</span><span class="p">(</span> <span class="k">new</span> <span class="n">PrivateData</span><span class="p">()</span> <span class="p">)</span>
<span class="p">{</span>
<span class="p">}</span>

<span class="n">QskSkinnable</span><span class="o">::~</span><span class="n">QskSkinnable</span><span class="p">()</span>
<span class="p">{</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setSkinlet</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskSkinlet</span><span class="o">*</span> <span class="n">skinlet</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">skinlet</span> <span class="o">==</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinlet</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">skinlet</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// now we don't depend on global skin changes anymore</span>
            <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">hasLocalSkinlet</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinlet</span> <span class="o">&amp;&amp;</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinlet</span><span class="o">-&gt;</span><span class="n">isOwnedBySkinnable</span><span class="p">()</span> <span class="p">)</span>
        <span class="k">delete</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinlet</span><span class="p">;</span>

    <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinlet</span> <span class="o">=</span> <span class="n">skinlet</span><span class="p">;</span>
    <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">hasLocalSkinlet</span> <span class="o">=</span> <span class="p">(</span> <span class="n">skinlet</span> <span class="o">!=</span> <span class="nb">nullptr</span> <span class="p">);</span>

    <span class="n">owningControl</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">update</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">const</span> <span class="n">QskSkinlet</span><span class="o">*</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">skinlet</span><span class="p">()</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">hasLocalSkinlet</span> <span class="o">?</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinlet</span> <span class="o">:</span> <span class="nb">nullptr</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">const</span> <span class="n">QskSkinlet</span><span class="o">*</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">effectiveSkinlet</span><span class="p">()</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinlet</span> <span class="o">==</span> <span class="nb">nullptr</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinlet</span> <span class="o">=</span> <span class="n">qskSetup</span><span class="o">-&gt;</span><span class="n">skin</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">skinlet</span><span class="p">(</span> <span class="n">metaObject</span><span class="p">()</span> <span class="p">);</span>
        <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">hasLocalSkinlet</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinlet</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">QskSkinHintTable</span><span class="o">&amp;</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">hintTable</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">hintTable</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">const</span> <span class="n">QskSkinHintTable</span><span class="o">&amp;</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">hintTable</span><span class="p">()</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">hintTable</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setFlagHint</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="kt">int</span> <span class="n">flag</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskSetFlag</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">flag</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">flagHint</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">effectiveSkinHint</span><span class="p">(</span> <span class="n">aspect</span> <span class="p">).</span><span class="n">toInt</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setAlignmentHint</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">Qt</span><span class="o">::</span><span class="n">Alignment</span> <span class="n">alignment</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskSetFlag</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Alignment</span><span class="p">,</span> <span class="n">alignment</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">resetAlignmentHint</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">resetFlagHint</span><span class="p">(</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Alignment</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setColor</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="k">const</span> <span class="n">QColor</span><span class="o">&amp;</span> <span class="n">color</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskSetColor</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">color</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setColor</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">Qt</span><span class="o">::</span><span class="n">GlobalColor</span> <span class="n">color</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskSetColor</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span> <span class="n">color</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setColor</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QRgb</span> <span class="n">rgb</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskSetColor</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QColor</span><span class="o">::</span><span class="n">fromRgba</span><span class="p">(</span> <span class="n">rgb</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">QColor</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">color</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QskSkinHintStatus</span><span class="o">*</span> <span class="n">status</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskColor</span><span class="o">&lt;</span> <span class="n">QColor</span> <span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">status</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setMetric</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">qreal</span> <span class="n">metric</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskSetMetric</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">metric</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">qreal</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">metric</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QskSkinHintStatus</span><span class="o">*</span> <span class="n">status</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskMetric</span><span class="o">&lt;</span> <span class="n">qreal</span> <span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">status</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setStrutSizeHint</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">qreal</span> <span class="n">width</span><span class="p">,</span> <span class="n">qreal</span> <span class="n">height</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskSetMetric</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">StrutSize</span><span class="p">,</span> <span class="n">QSizeF</span><span class="p">(</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setStrutSizeHint</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="k">const</span> <span class="n">QSizeF</span><span class="o">&amp;</span> <span class="n">strut</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskSetMetric</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">StrutSize</span><span class="p">,</span> <span class="n">strut</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">resetStrutSizeHint</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">resetMetric</span><span class="p">(</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">StrutSize</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">QSizeF</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">strutSizeHint</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QskSkinHintStatus</span><span class="o">*</span> <span class="n">status</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskMetric</span><span class="o">&lt;</span> <span class="n">QSizeF</span> <span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">StrutSize</span><span class="p">,</span> <span class="n">status</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setMarginHint</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">qreal</span> <span class="n">margins</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskSetMetric</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Margin</span><span class="p">,</span> <span class="n">QskMargins</span><span class="p">(</span> <span class="n">margins</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setMarginHint</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="k">const</span> <span class="n">QMarginsF</span><span class="o">&amp;</span> <span class="n">margins</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskSetMetric</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Margin</span><span class="p">,</span> <span class="n">QskMargins</span><span class="p">(</span> <span class="n">margins</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">resetMarginHint</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">resetMetric</span><span class="p">(</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Margin</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">QMarginsF</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">marginHint</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QskSkinHintStatus</span><span class="o">*</span> <span class="n">status</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskMetric</span><span class="o">&lt;</span> <span class="n">QskMargins</span> <span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Margin</span><span class="p">,</span> <span class="n">status</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setPaddingHint</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">qreal</span> <span class="n">padding</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskSetMetric</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Padding</span><span class="p">,</span> <span class="n">QskMargins</span><span class="p">(</span> <span class="n">padding</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setPaddingHint</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="k">const</span> <span class="n">QMarginsF</span><span class="o">&amp;</span> <span class="n">padding</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskSetMetric</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Padding</span><span class="p">,</span> <span class="n">QskMargins</span><span class="p">(</span> <span class="n">padding</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">resetPaddingHint</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">resetMetric</span><span class="p">(</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Padding</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">QMarginsF</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">paddingHint</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QskSkinHintStatus</span><span class="o">*</span> <span class="n">status</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskMetric</span><span class="o">&lt;</span> <span class="n">QskMargins</span> <span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Padding</span><span class="p">,</span> <span class="n">status</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setGradientHint</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="k">const</span> <span class="n">QskGradient</span><span class="o">&amp;</span> <span class="n">gradient</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskSetColor</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">gradient</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">QskGradient</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">gradientHint</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QskSkinHintStatus</span><span class="o">*</span> <span class="n">status</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskColor</span><span class="o">&lt;</span> <span class="n">QskGradient</span> <span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">status</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setBoxShapeHint</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="k">const</span> <span class="n">QskBoxShapeMetrics</span><span class="o">&amp;</span> <span class="n">shape</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskSetMetric</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Shape</span><span class="p">,</span> <span class="n">shape</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">resetBoxShapeHint</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">resetMetric</span><span class="p">(</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Shape</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">QskBoxShapeMetrics</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">boxShapeHint</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QskSkinHintStatus</span><span class="o">*</span> <span class="n">status</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskMetric</span><span class="o">&lt;</span> <span class="n">QskBoxShapeMetrics</span> <span class="o">&gt;</span><span class="p">(</span>
        <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Shape</span><span class="p">,</span> <span class="n">status</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setBoxBorderMetricsHint</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="k">const</span> <span class="n">QskBoxBorderMetrics</span><span class="o">&amp;</span> <span class="n">border</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskSetMetric</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Border</span><span class="p">,</span> <span class="n">border</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">resetBoxBorderMetricsHint</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">resetMetric</span><span class="p">(</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Border</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">QskBoxBorderMetrics</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">boxBorderMetricsHint</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QskSkinHintStatus</span><span class="o">*</span> <span class="n">status</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskMetric</span><span class="o">&lt;</span> <span class="n">QskBoxBorderMetrics</span> <span class="o">&gt;</span><span class="p">(</span>
        <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Border</span><span class="p">,</span> <span class="n">status</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setBoxBorderColorsHint</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="k">const</span> <span class="n">QskBoxBorderColors</span><span class="o">&amp;</span> <span class="n">colors</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskSetColor</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Border</span><span class="p">,</span> <span class="n">colors</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">resetBoxBorderColorsHint</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">resetColor</span><span class="p">(</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Border</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">QskBoxBorderColors</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">boxBorderColorsHint</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QskSkinHintStatus</span><span class="o">*</span> <span class="n">status</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskColor</span><span class="o">&lt;</span> <span class="n">QskBoxBorderColors</span> <span class="o">&gt;</span><span class="p">(</span>
        <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Border</span><span class="p">,</span> <span class="n">status</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setSpacingHint</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">qreal</span> <span class="n">spacing</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskSetMetric</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Spacing</span><span class="p">,</span> <span class="n">spacing</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">resetSpacingHint</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">resetMetric</span><span class="p">(</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Spacing</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">qreal</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">spacingHint</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QskSkinHintStatus</span><span class="o">*</span> <span class="n">status</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskMetric</span><span class="o">&lt;</span> <span class="n">qreal</span> <span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Spacing</span><span class="p">,</span> <span class="n">status</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setFontRoleHint</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="kt">int</span> <span class="n">role</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskSetFlag</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">FontRole</span><span class="p">,</span> <span class="n">role</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">resetFontRoleHint</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">resetFlagHint</span><span class="p">(</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">FontRole</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">fontRoleHint</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QskSkinHintStatus</span><span class="o">*</span> <span class="n">status</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskFlag</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">FontRole</span><span class="p">,</span> <span class="n">status</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">QFont</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">effectiveFont</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">effectiveSkin</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">font</span><span class="p">(</span> <span class="n">fontRoleHint</span><span class="p">(</span> <span class="n">aspect</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setGraphicRoleHint</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="kt">int</span> <span class="n">role</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskSetFlag</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">GraphicRole</span><span class="p">,</span> <span class="n">role</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">resetGraphicRoleHint</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">resetFlagHint</span><span class="p">(</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">GraphicRole</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">graphicRoleHint</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QskSkinHintStatus</span><span class="o">*</span> <span class="n">status</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskFlag</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">GraphicRole</span><span class="p">,</span> <span class="n">status</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">QskColorFilter</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">effectiveGraphicFilter</span><span class="p">(</span> <span class="n">QskAspect</span> <span class="n">aspect</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="n">aspect</span><span class="p">.</span><span class="n">setSubControl</span><span class="p">(</span> <span class="n">effectiveSubcontrol</span><span class="p">(</span> <span class="n">aspect</span><span class="p">.</span><span class="n">subControl</span><span class="p">()</span> <span class="p">)</span> <span class="p">);</span>
    <span class="n">aspect</span><span class="p">.</span><span class="n">setPlacement</span><span class="p">(</span> <span class="n">effectivePlacement</span><span class="p">()</span> <span class="p">);</span>
    <span class="n">aspect</span> <span class="o">=</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">GraphicRole</span><span class="p">;</span>

    <span class="n">QskSkinHintStatus</span> <span class="n">status</span><span class="p">;</span>

    <span class="k">const</span> <span class="k">auto</span> <span class="n">hint</span> <span class="o">=</span> <span class="n">storedHint</span><span class="p">(</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">skinState</span><span class="p">(),</span> <span class="o">&amp;</span><span class="n">status</span> <span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">status</span><span class="p">.</span><span class="n">isValid</span><span class="p">()</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// we need to know about how the aspect gets resolved</span>
        <span class="c1">// before checking for animators</span>

        <span class="n">aspect</span><span class="p">.</span><span class="n">setSubControl</span><span class="p">(</span> <span class="n">status</span><span class="p">.</span><span class="n">aspect</span><span class="p">.</span><span class="n">subControl</span><span class="p">()</span> <span class="p">);</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">aspect</span><span class="p">.</span><span class="n">isAnimator</span><span class="p">()</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">auto</span> <span class="n">v</span> <span class="o">=</span> <span class="n">animatedValue</span><span class="p">(</span> <span class="n">aspect</span><span class="p">,</span> <span class="nb">nullptr</span> <span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">canConvert</span><span class="o">&lt;</span> <span class="n">QskColorFilter</span> <span class="o">&gt;</span><span class="p">()</span> <span class="p">)</span>
            <span class="k">return</span> <span class="n">v</span><span class="p">.</span><span class="n">value</span><span class="o">&lt;</span> <span class="n">QskColorFilter</span> <span class="o">&gt;</span><span class="p">();</span>

        <span class="k">if</span> <span class="p">(</span> <span class="k">auto</span> <span class="n">control</span> <span class="o">=</span> <span class="n">owningControl</span><span class="p">()</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">QskSkinTransition</span><span class="o">::</span><span class="n">animatedGraphicFilter</span><span class="p">(</span>
                    <span class="n">control</span><span class="o">-&gt;</span><span class="n">window</span><span class="p">(),</span> <span class="n">hint</span><span class="p">.</span><span class="n">toInt</span><span class="p">()</span> <span class="p">);</span>

            <span class="k">if</span> <span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">canConvert</span><span class="o">&lt;</span> <span class="n">QskColorFilter</span> <span class="o">&gt;</span><span class="p">()</span> <span class="p">)</span>
            <span class="p">{</span>
                <span class="cm">/*
                    As it is hard to find out which controls depend
                    on the animated graphic filters we reschedule
                    our updates here.
                 */</span>
                <span class="n">control</span><span class="o">-&gt;</span><span class="n">update</span><span class="p">();</span>
                <span class="k">return</span> <span class="n">v</span><span class="p">.</span><span class="n">value</span><span class="o">&lt;</span> <span class="n">QskColorFilter</span> <span class="o">&gt;</span><span class="p">();</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">effectiveSkin</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">graphicFilter</span><span class="p">(</span> <span class="n">hint</span><span class="p">.</span><span class="n">toInt</span><span class="p">()</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setAnimationHint</span><span class="p">(</span>
    <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QskAnimationHint</span> <span class="n">animation</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">aspect</span><span class="p">.</span><span class="n">setSubControl</span><span class="p">(</span> <span class="n">effectiveSubcontrol</span><span class="p">(</span> <span class="n">aspect</span><span class="p">.</span><span class="n">subControl</span><span class="p">()</span> <span class="p">)</span> <span class="p">);</span>
    <span class="k">return</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">hintTable</span><span class="p">.</span><span class="n">setAnimation</span><span class="p">(</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">animation</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">QskAnimationHint</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">animationHint</span><span class="p">(</span>
    <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QskSkinHintStatus</span><span class="o">*</span> <span class="n">status</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="n">aspect</span><span class="p">.</span><span class="n">setAnimator</span><span class="p">(</span> <span class="nb">true</span> <span class="p">);</span>
    <span class="k">return</span> <span class="n">effectiveSkinHint</span><span class="p">(</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">status</span> <span class="p">).</span><span class="n">value</span><span class="o">&lt;</span> <span class="n">QskAnimationHint</span> <span class="o">&gt;</span><span class="p">();</span>
<span class="p">}</span>

<span class="n">QskAnimationHint</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">effectiveAnimation</span><span class="p">(</span>
    <span class="n">QskAspect</span><span class="o">::</span><span class="n">Type</span> <span class="n">type</span><span class="p">,</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Subcontrol</span> <span class="n">subControl</span><span class="p">,</span>
    <span class="n">QskAspect</span><span class="o">::</span><span class="n">State</span> <span class="n">state</span><span class="p">,</span> <span class="n">QskSkinHintStatus</span><span class="o">*</span> <span class="n">status</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">auto</span> <span class="n">aspect</span> <span class="o">=</span> <span class="n">subControl</span> <span class="o">|</span> <span class="n">type</span> <span class="o">|</span> <span class="n">state</span><span class="p">;</span>
    <span class="n">aspect</span><span class="p">.</span><span class="n">setAnimator</span><span class="p">(</span> <span class="nb">true</span> <span class="p">);</span>

    <span class="n">QskAnimationHint</span> <span class="n">hint</span><span class="p">;</span>

    <span class="k">const</span> <span class="k">auto</span> <span class="n">a</span> <span class="o">=</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">hintTable</span><span class="p">.</span><span class="n">resolvedAnimator</span><span class="p">(</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">hint</span> <span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">a</span><span class="p">.</span><span class="n">isAnimator</span><span class="p">()</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">status</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="n">status</span><span class="o">-&gt;</span><span class="n">source</span> <span class="o">=</span> <span class="n">QskSkinHintStatus</span><span class="o">::</span><span class="n">Skinnable</span><span class="p">;</span>
            <span class="n">status</span><span class="o">-&gt;</span><span class="n">aspect</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">hint</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span> <span class="k">auto</span> <span class="n">skin</span> <span class="o">=</span> <span class="n">effectiveSkin</span><span class="p">()</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">const</span> <span class="k">auto</span> <span class="n">a</span> <span class="o">=</span> <span class="n">skin</span><span class="o">-&gt;</span><span class="n">hintTable</span><span class="p">().</span><span class="n">resolvedAnimator</span><span class="p">(</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">hint</span> <span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">a</span><span class="p">.</span><span class="n">isAnimator</span><span class="p">()</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span> <span class="n">status</span> <span class="p">)</span>
            <span class="p">{</span>
                <span class="n">status</span><span class="o">-&gt;</span><span class="n">source</span> <span class="o">=</span> <span class="n">QskSkinHintStatus</span><span class="o">::</span><span class="n">Skin</span><span class="p">;</span>
                <span class="n">status</span><span class="o">-&gt;</span><span class="n">aspect</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="k">return</span> <span class="n">hint</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">status</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="n">status</span><span class="o">-&gt;</span><span class="n">source</span> <span class="o">=</span> <span class="n">QskSkinHintStatus</span><span class="o">::</span><span class="n">NoSource</span><span class="p">;</span>
        <span class="n">status</span><span class="o">-&gt;</span><span class="n">aspect</span> <span class="o">=</span> <span class="n">QskAspect</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">hint</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setSkinHint</span><span class="p">(</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="k">const</span> <span class="n">QVariant</span><span class="o">&amp;</span> <span class="n">hint</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">aspect</span> <span class="o">=</span> <span class="n">qskSubstitutedAspect</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">hintTable</span><span class="p">.</span><span class="n">setHint</span><span class="p">(</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">hint</span> <span class="p">)</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="n">qskTriggerUpdates</span><span class="p">(</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">owningControl</span><span class="p">()</span> <span class="p">);</span>
        <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">resetSkinHint</span><span class="p">(</span> <span class="n">QskAspect</span> <span class="n">aspect</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">aspect</span> <span class="o">=</span> <span class="n">qskSubstitutedAspect</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span> <span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">hintTable</span><span class="p">.</span><span class="n">removeHint</span><span class="p">(</span> <span class="n">aspect</span> <span class="p">)</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="n">qskTriggerUpdates</span><span class="p">(</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">owningControl</span><span class="p">()</span> <span class="p">);</span>
        <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">QVariant</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">effectiveSkinHint</span><span class="p">(</span>
    <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QskSkinHintStatus</span><span class="o">*</span> <span class="n">status</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="n">aspect</span><span class="p">.</span><span class="n">setSubControl</span><span class="p">(</span> <span class="n">effectiveSubcontrol</span><span class="p">(</span> <span class="n">aspect</span><span class="p">.</span><span class="n">subControl</span><span class="p">()</span> <span class="p">)</span> <span class="p">);</span>
    <span class="n">aspect</span><span class="p">.</span><span class="n">setPlacement</span><span class="p">(</span> <span class="n">effectivePlacement</span><span class="p">()</span> <span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">aspect</span><span class="p">.</span><span class="n">isAnimator</span><span class="p">()</span> <span class="p">)</span>
        <span class="k">return</span> <span class="n">storedHint</span><span class="p">(</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">status</span> <span class="p">);</span>

    <span class="k">const</span> <span class="k">auto</span> <span class="n">v</span> <span class="o">=</span> <span class="n">animatedValue</span><span class="p">(</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">status</span> <span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">isValid</span><span class="p">()</span> <span class="p">)</span>
        <span class="k">return</span> <span class="n">v</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">aspect</span><span class="p">.</span><span class="n">hasState</span><span class="p">()</span> <span class="p">)</span>
        <span class="n">aspect</span><span class="p">.</span><span class="n">setState</span><span class="p">(</span> <span class="n">skinState</span><span class="p">()</span> <span class="p">);</span>

    <span class="k">return</span> <span class="n">storedHint</span><span class="p">(</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">status</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">QskSkinHintStatus</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">hintStatus</span><span class="p">(</span> <span class="n">QskAspect</span> <span class="n">aspect</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="n">QskSkinHintStatus</span> <span class="n">status</span><span class="p">;</span>

    <span class="p">(</span> <span class="kt">void</span> <span class="p">)</span> <span class="n">effectiveSkinHint</span><span class="p">(</span> <span class="n">aspect</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">status</span> <span class="p">);</span>
    <span class="k">return</span> <span class="n">status</span><span class="p">;</span>
<span class="p">}</span>


<span class="n">QVariant</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">animatedValue</span><span class="p">(</span>
    <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QskSkinHintStatus</span><span class="o">*</span> <span class="n">status</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="n">QVariant</span> <span class="n">v</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">aspect</span><span class="p">.</span><span class="n">hasState</span><span class="p">()</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="cm">/*
            The local animators were invented to be stateless
            and we never have an aspect with a state here.
            But that might change ...
         */</span>

        <span class="n">v</span> <span class="o">=</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">animators</span><span class="p">.</span><span class="n">currentValue</span><span class="p">(</span> <span class="n">aspect</span> <span class="p">);</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">v</span><span class="p">.</span><span class="n">isValid</span><span class="p">()</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">QskSkinTransition</span><span class="o">::</span><span class="n">isRunning</span><span class="p">()</span> <span class="o">&amp;&amp;</span>
            <span class="o">!</span><span class="n">m_data</span><span class="o">-&gt;</span><span class="n">hintTable</span><span class="p">.</span><span class="n">hasHint</span><span class="p">(</span> <span class="n">aspect</span> <span class="p">)</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="cm">/*
               Next we check for values from the skin. Those
               animators are usually from global skin/color changes
               and are state aware
             */</span>

            <span class="k">if</span> <span class="p">(</span> <span class="k">const</span> <span class="k">auto</span> <span class="n">control</span> <span class="o">=</span> <span class="n">owningControl</span><span class="p">()</span> <span class="p">)</span>
            <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span> <span class="n">aspect</span><span class="p">.</span><span class="n">state</span><span class="p">()</span> <span class="o">==</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">NoState</span> <span class="p">)</span>
                    <span class="n">aspect</span> <span class="o">=</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">skinState</span><span class="p">();</span>

                <span class="k">const</span> <span class="k">auto</span> <span class="n">a</span> <span class="o">=</span> <span class="n">aspect</span><span class="p">;</span>

                <span class="n">Q_FOREVER</span>
                <span class="p">{</span>
                    <span class="n">v</span> <span class="o">=</span> <span class="n">QskSkinTransition</span><span class="o">::</span><span class="n">animatedHint</span><span class="p">(</span> <span class="n">control</span><span class="o">-&gt;</span><span class="n">window</span><span class="p">(),</span> <span class="n">aspect</span> <span class="p">);</span>

                    <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">v</span><span class="p">.</span><span class="n">isValid</span><span class="p">()</span> <span class="p">)</span>
                    <span class="p">{</span>
                        <span class="k">if</span> <span class="p">(</span> <span class="k">const</span> <span class="k">auto</span> <span class="n">topState</span> <span class="o">=</span> <span class="n">aspect</span><span class="p">.</span><span class="n">topState</span><span class="p">()</span> <span class="p">)</span>
                        <span class="p">{</span>
                            <span class="n">aspect</span><span class="p">.</span><span class="n">clearState</span><span class="p">(</span> <span class="n">aspect</span><span class="p">.</span><span class="n">topState</span><span class="p">()</span> <span class="p">);</span>
                            <span class="k">continue</span><span class="p">;</span>
                        <span class="p">}</span>

                        <span class="k">if</span> <span class="p">(</span> <span class="n">aspect</span><span class="p">.</span><span class="n">placement</span><span class="p">()</span> <span class="p">)</span>
                        <span class="p">{</span>
                            <span class="c1">// clear the placement bits and restart</span>
                            <span class="n">aspect</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
                            <span class="n">aspect</span><span class="p">.</span><span class="n">setPlacement</span><span class="p">(</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">NoPlacement</span> <span class="p">);</span>

                            <span class="k">continue</span><span class="p">;</span>
                        <span class="p">}</span>
                    <span class="p">}</span>

                    <span class="k">break</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">status</span> <span class="o">&amp;&amp;</span> <span class="n">v</span><span class="p">.</span><span class="n">isValid</span><span class="p">()</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="n">status</span><span class="o">-&gt;</span><span class="n">source</span> <span class="o">=</span> <span class="n">QskSkinHintStatus</span><span class="o">::</span><span class="n">Animator</span><span class="p">;</span>
        <span class="n">status</span><span class="o">-&gt;</span><span class="n">aspect</span> <span class="o">=</span> <span class="n">aspect</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">v</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">const</span> <span class="n">QVariant</span><span class="o">&amp;</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">storedHint</span><span class="p">(</span>
    <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">QskSkinHintStatus</span><span class="o">*</span> <span class="n">status</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="k">auto</span> <span class="n">skin</span> <span class="o">=</span> <span class="n">effectiveSkin</span><span class="p">();</span>

    <span class="c1">// clearing all state bits not being handled from the skin</span>
    <span class="n">aspect</span><span class="p">.</span><span class="n">clearState</span><span class="p">(</span> <span class="o">~</span><span class="n">skin</span><span class="o">-&gt;</span><span class="n">stateMask</span><span class="p">()</span> <span class="p">);</span>

    <span class="n">QskAspect</span> <span class="n">resolvedAspect</span><span class="p">;</span>

    <span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="n">localTable</span> <span class="o">=</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">hintTable</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">localTable</span><span class="p">.</span><span class="n">hasHints</span><span class="p">()</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">auto</span> <span class="n">a</span> <span class="o">=</span> <span class="n">aspect</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">localTable</span><span class="p">.</span><span class="n">hasStates</span><span class="p">()</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// we don't need to clear the state bits stepwise</span>
            <span class="n">a</span><span class="p">.</span><span class="n">clearStates</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span> <span class="k">const</span> <span class="n">QVariant</span><span class="o">*</span> <span class="n">value</span> <span class="o">=</span> <span class="n">localTable</span><span class="p">.</span><span class="n">resolvedHint</span><span class="p">(</span> <span class="n">a</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">resolvedAspect</span> <span class="p">)</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span> <span class="n">status</span> <span class="p">)</span>
            <span class="p">{</span>
                <span class="n">status</span><span class="o">-&gt;</span><span class="n">source</span> <span class="o">=</span> <span class="n">QskSkinHintStatus</span><span class="o">::</span><span class="n">Skinnable</span><span class="p">;</span>
                <span class="n">status</span><span class="o">-&gt;</span><span class="n">aspect</span> <span class="o">=</span> <span class="n">resolvedAspect</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="o">*</span><span class="n">value</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">// next we try the hints from the skin</span>

    <span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="n">skinTable</span> <span class="o">=</span> <span class="n">skin</span><span class="o">-&gt;</span><span class="n">hintTable</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">skinTable</span><span class="p">.</span><span class="n">hasHints</span><span class="p">()</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">auto</span> <span class="n">a</span> <span class="o">=</span> <span class="n">aspect</span><span class="p">;</span>

        <span class="k">const</span> <span class="n">QVariant</span><span class="o">*</span> <span class="n">value</span> <span class="o">=</span> <span class="n">skinTable</span><span class="p">.</span><span class="n">resolvedHint</span><span class="p">(</span> <span class="n">a</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">resolvedAspect</span> <span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">value</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span> <span class="n">status</span> <span class="p">)</span>
            <span class="p">{</span>
                <span class="n">status</span><span class="o">-&gt;</span><span class="n">source</span> <span class="o">=</span> <span class="n">QskSkinHintStatus</span><span class="o">::</span><span class="n">Skin</span><span class="p">;</span>
                <span class="n">status</span><span class="o">-&gt;</span><span class="n">aspect</span> <span class="o">=</span> <span class="n">resolvedAspect</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="k">return</span> <span class="o">*</span><span class="n">value</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span> <span class="n">aspect</span><span class="p">.</span><span class="n">subControl</span><span class="p">()</span> <span class="o">!=</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Control</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// trying to resolve something from the skin default settings</span>

            <span class="n">aspect</span><span class="p">.</span><span class="n">setSubControl</span><span class="p">(</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Control</span> <span class="p">);</span>
            <span class="n">aspect</span><span class="p">.</span><span class="n">clearStates</span><span class="p">();</span>

            <span class="n">value</span> <span class="o">=</span> <span class="n">skinTable</span><span class="p">.</span><span class="n">resolvedHint</span><span class="p">(</span> <span class="n">aspect</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">resolvedAspect</span> <span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span> <span class="n">value</span> <span class="p">)</span>
            <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span> <span class="n">status</span> <span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">status</span><span class="o">-&gt;</span><span class="n">source</span> <span class="o">=</span> <span class="n">QskSkinHintStatus</span><span class="o">::</span><span class="n">Skin</span><span class="p">;</span>
                    <span class="n">status</span><span class="o">-&gt;</span><span class="n">aspect</span> <span class="o">=</span> <span class="n">resolvedAspect</span><span class="p">;</span>
                <span class="p">}</span>

                <span class="k">return</span> <span class="o">*</span><span class="n">value</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">status</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="n">status</span><span class="o">-&gt;</span><span class="n">source</span> <span class="o">=</span> <span class="n">QskSkinHintStatus</span><span class="o">::</span><span class="n">NoSource</span><span class="p">;</span>
        <span class="n">status</span><span class="o">-&gt;</span><span class="n">aspect</span> <span class="o">=</span> <span class="n">QskAspect</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">static</span> <span class="n">QVariant</span> <span class="n">hintInvalid</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">hintInvalid</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">QskAspect</span><span class="o">::</span><span class="n">State</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">skinState</span><span class="p">()</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinState</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">skinStateAsPrintable</span><span class="p">()</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">skinStateAsPrintable</span><span class="p">(</span> <span class="n">skinState</span><span class="p">()</span> <span class="p">);</span>
<span class="p">}</span>

<span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">skinStateAsPrintable</span><span class="p">(</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">State</span> <span class="n">state</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="n">QString</span> <span class="n">tmp</span><span class="p">;</span>

    <span class="n">QDebug</span> <span class="n">debug</span><span class="p">(</span> <span class="o">&amp;</span><span class="n">tmp</span> <span class="p">);</span>
    <span class="n">qskDebugState</span><span class="p">(</span> <span class="n">debug</span><span class="p">,</span> <span class="n">metaObject</span><span class="p">(),</span> <span class="n">state</span> <span class="p">);</span>

    <span class="c1">// we should find a better way</span>
    <span class="k">static</span> <span class="n">QByteArray</span> <span class="n">bytes</span><span class="p">[</span> <span class="mi">10</span> <span class="p">];</span>
    <span class="k">static</span> <span class="kt">int</span> <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="n">counter</span> <span class="o">=</span> <span class="p">(</span> <span class="n">counter</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">)</span> <span class="o">%</span> <span class="mi">10</span><span class="p">;</span>

    <span class="n">bytes</span><span class="p">[</span> <span class="n">counter</span> <span class="p">]</span> <span class="o">=</span> <span class="n">tmp</span><span class="p">.</span><span class="n">toUtf8</span><span class="p">();</span>
    <span class="k">return</span> <span class="n">bytes</span><span class="p">[</span> <span class="n">counter</span> <span class="p">].</span><span class="n">constData</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">QskMargins</span> <span class="n">qskEffectivePadding</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskSkinnable</span><span class="o">*</span> <span class="n">skinnable</span><span class="p">,</span>
    <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="k">const</span> <span class="n">QSizeF</span><span class="o">&amp;</span> <span class="n">size</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">inner</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="k">auto</span> <span class="n">shape</span> <span class="o">=</span> <span class="n">skinnable</span><span class="o">-&gt;</span><span class="n">boxShapeHint</span><span class="p">(</span> <span class="n">aspect</span> <span class="p">).</span><span class="n">toAbsolute</span><span class="p">(</span> <span class="n">size</span> <span class="p">);</span>
    <span class="k">const</span> <span class="k">auto</span> <span class="n">borderMetrics</span> <span class="o">=</span> <span class="n">skinnable</span><span class="o">-&gt;</span><span class="n">boxBorderMetricsHint</span><span class="p">(</span> <span class="n">aspect</span> <span class="p">);</span>

    <span class="k">const</span> <span class="n">qreal</span> <span class="n">left</span> <span class="o">=</span> <span class="n">qMax</span><span class="p">(</span> <span class="n">shape</span><span class="p">.</span><span class="n">radius</span><span class="p">(</span> <span class="n">Qt</span><span class="o">::</span><span class="n">TopLeftCorner</span> <span class="p">).</span><span class="n">width</span><span class="p">(),</span>
        <span class="n">shape</span><span class="p">.</span><span class="n">radius</span><span class="p">(</span> <span class="n">Qt</span><span class="o">::</span><span class="n">BottomLeftCorner</span> <span class="p">).</span><span class="n">width</span><span class="p">()</span> <span class="p">);</span>

    <span class="k">const</span> <span class="n">qreal</span> <span class="n">top</span> <span class="o">=</span> <span class="n">qMax</span><span class="p">(</span> <span class="n">shape</span><span class="p">.</span><span class="n">radius</span><span class="p">(</span> <span class="n">Qt</span><span class="o">::</span><span class="n">TopLeftCorner</span> <span class="p">).</span><span class="n">height</span><span class="p">(),</span>
        <span class="n">shape</span><span class="p">.</span><span class="n">radius</span><span class="p">(</span> <span class="n">Qt</span><span class="o">::</span><span class="n">TopRightCorner</span> <span class="p">).</span><span class="n">height</span><span class="p">()</span> <span class="p">);</span>

    <span class="k">const</span> <span class="n">qreal</span> <span class="n">right</span> <span class="o">=</span> <span class="n">qMax</span><span class="p">(</span> <span class="n">shape</span><span class="p">.</span><span class="n">radius</span><span class="p">(</span> <span class="n">Qt</span><span class="o">::</span><span class="n">TopRightCorner</span> <span class="p">).</span><span class="n">width</span><span class="p">(),</span>
        <span class="n">shape</span><span class="p">.</span><span class="n">radius</span><span class="p">(</span> <span class="n">Qt</span><span class="o">::</span><span class="n">BottomRightCorner</span> <span class="p">).</span><span class="n">width</span><span class="p">()</span> <span class="p">);</span>

    <span class="k">const</span> <span class="n">qreal</span> <span class="n">bottom</span> <span class="o">=</span> <span class="n">qMax</span><span class="p">(</span> <span class="n">shape</span><span class="p">.</span><span class="n">radius</span><span class="p">(</span> <span class="n">Qt</span><span class="o">::</span><span class="n">BottomLeftCorner</span> <span class="p">).</span><span class="n">height</span><span class="p">(),</span>
        <span class="n">shape</span><span class="p">.</span><span class="n">radius</span><span class="p">(</span> <span class="n">Qt</span><span class="o">::</span><span class="n">BottomRightCorner</span> <span class="p">).</span><span class="n">height</span><span class="p">()</span> <span class="p">);</span>

    <span class="n">QskMargins</span> <span class="n">padding</span><span class="p">(</span> <span class="n">left</span><span class="p">,</span> <span class="n">top</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span> <span class="p">);</span>

    <span class="c1">// half of the border goes to the inner side</span>
    <span class="k">const</span> <span class="k">auto</span> <span class="n">borderMargins</span> <span class="o">=</span> <span class="n">borderMetrics</span><span class="p">.</span><span class="n">toAbsolute</span><span class="p">(</span> <span class="n">size</span> <span class="p">).</span><span class="n">widths</span><span class="p">()</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">inner</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="n">padding</span> <span class="o">-=</span> <span class="n">borderMargins</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="c1">// not correct, but to get things started. TODO ...</span>
        <span class="n">padding</span> <span class="o">+=</span> <span class="n">borderMargins</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// sin 45° ceiled : 0.70710678;</span>
    <span class="n">padding</span> <span class="o">*=</span> <span class="mf">1.0</span> <span class="o">-</span> <span class="mf">0.70710678</span><span class="p">;</span>

    <span class="k">return</span> <span class="n">padding</span><span class="p">.</span><span class="n">expandedTo</span><span class="p">(</span> <span class="n">skinnable</span><span class="o">-&gt;</span><span class="n">paddingHint</span><span class="p">(</span> <span class="n">aspect</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">QMarginsF</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">innerPadding</span><span class="p">(</span>
    <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="k">const</span> <span class="n">QSizeF</span><span class="o">&amp;</span> <span class="n">outerBoxSize</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskEffectivePadding</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">outerBoxSize</span><span class="p">,</span> <span class="nb">true</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">QSizeF</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">innerBoxSize</span><span class="p">(</span>
    <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="k">const</span> <span class="n">QSizeF</span><span class="o">&amp;</span> <span class="n">outerBoxSize</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="k">auto</span> <span class="n">pd</span> <span class="o">=</span> <span class="n">qskEffectivePadding</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">outerBoxSize</span><span class="p">,</span> <span class="nb">true</span> <span class="p">);</span>

    <span class="k">return</span> <span class="n">QSizeF</span><span class="p">(</span> <span class="n">outerBoxSize</span><span class="p">.</span><span class="n">width</span><span class="p">()</span> <span class="o">-</span> <span class="n">pd</span><span class="p">.</span><span class="n">width</span><span class="p">(),</span>
        <span class="n">outerBoxSize</span><span class="p">.</span><span class="n">height</span><span class="p">()</span> <span class="o">-</span> <span class="n">pd</span><span class="p">.</span><span class="n">height</span><span class="p">()</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">QRectF</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">innerBox</span><span class="p">(</span>
    <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="k">const</span> <span class="n">QRectF</span><span class="o">&amp;</span> <span class="n">outerBox</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="k">auto</span> <span class="n">pd</span> <span class="o">=</span> <span class="n">qskEffectivePadding</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">outerBox</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span> <span class="nb">true</span> <span class="p">);</span>
    <span class="k">return</span> <span class="n">outerBox</span><span class="p">.</span><span class="n">marginsRemoved</span><span class="p">(</span> <span class="n">pd</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">QSizeF</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">outerBoxSize</span><span class="p">(</span>
    <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="k">const</span> <span class="n">QSizeF</span><span class="o">&amp;</span> <span class="n">innerBoxSize</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="k">auto</span> <span class="n">pd</span> <span class="o">=</span> <span class="n">qskEffectivePadding</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">innerBoxSize</span><span class="p">,</span> <span class="nb">false</span> <span class="p">);</span>

    <span class="c1">// since Qt 5.14 we would have QSizeF::grownBy !</span>
    <span class="k">return</span> <span class="n">QSizeF</span><span class="p">(</span> <span class="n">innerBoxSize</span><span class="p">.</span><span class="n">width</span><span class="p">()</span> <span class="o">+</span> <span class="n">pd</span><span class="p">.</span><span class="n">width</span><span class="p">(),</span>
        <span class="n">innerBoxSize</span><span class="p">.</span><span class="n">height</span><span class="p">()</span> <span class="o">+</span> <span class="n">pd</span><span class="p">.</span><span class="n">height</span><span class="p">()</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">QRectF</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">outerBox</span><span class="p">(</span>
    <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span> <span class="k">const</span> <span class="n">QRectF</span><span class="o">&amp;</span> <span class="n">innerBox</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="k">auto</span> <span class="n">m</span> <span class="o">=</span> <span class="n">qskEffectivePadding</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">innerBox</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span> <span class="nb">false</span> <span class="p">);</span>
    <span class="k">return</span> <span class="n">innerBox</span><span class="p">.</span><span class="n">marginsAdded</span><span class="p">(</span> <span class="n">m</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">QRectF</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">subControlRect</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QRectF</span><span class="o">&amp;</span> <span class="n">contentsRect</span><span class="p">,</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Subcontrol</span> <span class="n">subControl</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">effectiveSkinlet</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">subControlRect</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">contentsRect</span><span class="p">,</span> <span class="n">subControl</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">QRectF</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">subControlContentsRect</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">QRectF</span><span class="o">&amp;</span> <span class="n">contentsRect</span><span class="p">,</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Subcontrol</span> <span class="n">subControl</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">innerBox</span><span class="p">(</span> <span class="n">subControl</span><span class="p">,</span> <span class="n">subControlRect</span><span class="p">(</span> <span class="n">contentsRect</span><span class="p">,</span> <span class="n">subControl</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">isTransitionAccepted</span><span class="p">(</span> <span class="n">QskAspect</span> <span class="n">aspect</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="n">Q_UNUSED</span><span class="p">(</span> <span class="n">aspect</span> <span class="p">)</span>

    <span class="cm">/*
        Usually we only need smooth transitions, when state changes
        happen while the skinnable is visible. There are few exceptions
        like QskPopup::Closed, that is used to slide/fade in.
     */</span>
    <span class="k">if</span> <span class="p">(</span> <span class="k">auto</span> <span class="n">control</span> <span class="o">=</span> <span class="n">owningControl</span><span class="p">()</span> <span class="p">)</span>
        <span class="k">return</span> <span class="n">control</span><span class="o">-&gt;</span><span class="n">isInitiallyPainted</span><span class="p">();</span>

    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">startTransition</span><span class="p">(</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span>
    <span class="n">QskAnimationHint</span> <span class="n">animationHint</span><span class="p">,</span> <span class="n">QVariant</span> <span class="n">from</span><span class="p">,</span> <span class="n">QVariant</span> <span class="n">to</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">aspect</span><span class="p">.</span><span class="n">setSubControl</span><span class="p">(</span> <span class="n">effectiveSubcontrol</span><span class="p">(</span> <span class="n">aspect</span><span class="p">.</span><span class="n">subControl</span><span class="p">()</span> <span class="p">)</span> <span class="p">);</span>
    <span class="n">startHintTransition</span><span class="p">(</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">animationHint</span><span class="p">,</span> <span class="n">from</span><span class="p">,</span> <span class="n">to</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">startHintTransition</span><span class="p">(</span> <span class="n">QskAspect</span> <span class="n">aspect</span><span class="p">,</span>
    <span class="n">QskAnimationHint</span> <span class="n">animationHint</span><span class="p">,</span> <span class="n">QVariant</span> <span class="n">from</span><span class="p">,</span> <span class="n">QVariant</span> <span class="n">to</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">animationHint</span><span class="p">.</span><span class="n">duration</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="o">||</span> <span class="p">(</span> <span class="n">from</span> <span class="o">==</span> <span class="n">to</span> <span class="p">)</span> <span class="p">)</span>
        <span class="k">return</span><span class="p">;</span>

    <span class="k">auto</span> <span class="n">control</span> <span class="o">=</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">owningControl</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">control</span><span class="o">-&gt;</span><span class="n">window</span><span class="p">()</span> <span class="o">==</span> <span class="nb">nullptr</span> <span class="o">||</span> <span class="o">!</span><span class="n">isTransitionAccepted</span><span class="p">(</span> <span class="n">aspect</span> <span class="p">)</span> <span class="p">)</span>
        <span class="k">return</span><span class="p">;</span>

    <span class="cm">/*
        We might be invalid for one of the values, when an aspect
        has not been defined for all states ( f.e. metrics are expected
        to fallback to 0.0 ). In this case we create a default one.
     */</span>

    <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">from</span><span class="p">.</span><span class="n">isValid</span><span class="p">()</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="n">from</span> <span class="o">=</span> <span class="n">qskTypedNullValue</span><span class="p">(</span> <span class="n">to</span> <span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">to</span><span class="p">.</span><span class="n">isValid</span><span class="p">()</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="n">to</span> <span class="o">=</span> <span class="n">qskTypedNullValue</span><span class="p">(</span> <span class="n">from</span> <span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="n">from</span><span class="p">.</span><span class="n">userType</span><span class="p">()</span> <span class="o">!=</span> <span class="n">to</span><span class="p">.</span><span class="n">userType</span><span class="p">()</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">aspect</span><span class="p">.</span><span class="n">flagPrimitive</span><span class="p">()</span> <span class="o">==</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">GraphicRole</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">const</span> <span class="k">auto</span> <span class="n">skin</span> <span class="o">=</span> <span class="n">effectiveSkin</span><span class="p">();</span>

        <span class="n">from</span><span class="p">.</span><span class="n">setValue</span><span class="p">(</span> <span class="n">skin</span><span class="o">-&gt;</span><span class="n">graphicFilter</span><span class="p">(</span> <span class="n">from</span><span class="p">.</span><span class="n">toInt</span><span class="p">()</span> <span class="p">)</span> <span class="p">);</span>
        <span class="n">to</span><span class="p">.</span><span class="n">setValue</span><span class="p">(</span> <span class="n">skin</span><span class="o">-&gt;</span><span class="n">graphicFilter</span><span class="p">(</span> <span class="n">to</span><span class="p">.</span><span class="n">toInt</span><span class="p">()</span> <span class="p">)</span> <span class="p">);</span>
    <span class="p">}</span>

    <span class="n">aspect</span><span class="p">.</span><span class="n">clearStates</span><span class="p">();</span>
    <span class="n">aspect</span><span class="p">.</span><span class="n">setAnimator</span><span class="p">(</span> <span class="nb">false</span> <span class="p">);</span>
    <span class="n">aspect</span><span class="p">.</span><span class="n">setPlacement</span><span class="p">(</span> <span class="n">effectivePlacement</span><span class="p">()</span> <span class="p">);</span>

<span class="cp">#if DEBUG_ANIMATOR
</span>    <span class="n">qDebug</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">aspect</span> <span class="o">&lt;&lt;</span> <span class="n">animationHint</span><span class="p">.</span><span class="n">duration</span><span class="p">;</span>
<span class="cp">#endif
</span>
    <span class="k">auto</span> <span class="n">animator</span> <span class="o">=</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">animators</span><span class="p">.</span><span class="n">animator</span><span class="p">(</span> <span class="n">aspect</span> <span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">animator</span> <span class="o">&amp;&amp;</span> <span class="n">animator</span><span class="o">-&gt;</span><span class="n">isRunning</span><span class="p">()</span> <span class="p">)</span>
        <span class="n">from</span> <span class="o">=</span> <span class="n">animator</span><span class="o">-&gt;</span><span class="n">currentValue</span><span class="p">();</span>

    <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">animators</span><span class="p">.</span><span class="n">start</span><span class="p">(</span> <span class="n">control</span><span class="p">,</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">animationHint</span><span class="p">,</span> <span class="n">from</span><span class="p">,</span> <span class="n">to</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setSkinStateFlag</span><span class="p">(</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">State</span> <span class="n">stateFlag</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">on</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="k">auto</span> <span class="n">newState</span> <span class="o">=</span> <span class="n">on</span>
        <span class="o">?</span> <span class="p">(</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinState</span> <span class="o">|</span> <span class="n">stateFlag</span> <span class="p">)</span>
        <span class="o">:</span> <span class="p">(</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinState</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">stateFlag</span> <span class="p">);</span>

    <span class="n">setSkinState</span><span class="p">(</span> <span class="n">newState</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">setSkinState</span><span class="p">(</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">State</span> <span class="n">newState</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">animated</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinState</span> <span class="o">==</span> <span class="n">newState</span> <span class="p">)</span>
        <span class="k">return</span><span class="p">;</span>

    <span class="k">auto</span> <span class="n">control</span> <span class="o">=</span> <span class="n">owningControl</span><span class="p">();</span>

<span class="cp">#if DEBUG_STATE
</span>    <span class="n">qDebug</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">control</span><span class="o">-&gt;</span><span class="n">className</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">":"</span>
        <span class="o">&lt;&lt;</span> <span class="n">skinStateAsPrintable</span><span class="p">(</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinState</span> <span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">"-&gt;"</span>
        <span class="o">&lt;&lt;</span> <span class="n">skinStateAsPrintable</span><span class="p">(</span> <span class="n">newState</span> <span class="p">);</span>
<span class="cp">#endif
</span>
    <span class="k">const</span> <span class="k">auto</span> <span class="n">skin</span> <span class="o">=</span> <span class="n">effectiveSkin</span><span class="p">();</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">skin</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">const</span> <span class="k">auto</span> <span class="n">mask</span> <span class="o">=</span> <span class="n">skin</span><span class="o">-&gt;</span><span class="n">stateMask</span><span class="p">();</span>
        <span class="k">if</span> <span class="p">(</span> <span class="p">(</span> <span class="n">newState</span> <span class="o">&amp;</span> <span class="n">mask</span> <span class="p">)</span> <span class="o">==</span> <span class="p">(</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinState</span> <span class="o">&amp;</span> <span class="n">mask</span> <span class="p">)</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// the modified bits are not handled by the skin</span>

            <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinState</span> <span class="o">=</span> <span class="n">newState</span><span class="p">;</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">control</span><span class="o">-&gt;</span><span class="n">window</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">animated</span> <span class="o">&amp;&amp;</span> <span class="n">isTransitionAccepted</span><span class="p">(</span> <span class="n">QskAspect</span><span class="p">()</span> <span class="p">)</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">const</span> <span class="k">auto</span> <span class="n">placement</span> <span class="o">=</span> <span class="n">effectivePlacement</span><span class="p">();</span>

        <span class="k">const</span> <span class="k">auto</span> <span class="n">subControls</span> <span class="o">=</span> <span class="n">control</span><span class="o">-&gt;</span><span class="n">subControls</span><span class="p">();</span>
        <span class="k">for</span> <span class="p">(</span> <span class="k">const</span> <span class="k">auto</span> <span class="n">subControl</span> <span class="o">:</span> <span class="n">subControls</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="k">auto</span> <span class="n">aspect</span> <span class="o">=</span> <span class="n">subControl</span> <span class="o">|</span> <span class="n">placement</span><span class="p">;</span>

            <span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="n">skinTable</span> <span class="o">=</span> <span class="n">skin</span><span class="o">-&gt;</span><span class="n">hintTable</span><span class="p">();</span>

            <span class="k">for</span> <span class="p">(</span> <span class="n">uint</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">typeCount</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">)</span>
            <span class="p">{</span>
                <span class="k">const</span> <span class="k">auto</span> <span class="n">type</span> <span class="o">=</span> <span class="k">static_cast</span><span class="o">&lt;</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">Type</span> <span class="o">&gt;</span><span class="p">(</span> <span class="n">i</span> <span class="p">);</span>

                <span class="k">const</span> <span class="k">auto</span> <span class="n">hint</span> <span class="o">=</span> <span class="n">effectiveAnimation</span><span class="p">(</span> <span class="n">type</span><span class="p">,</span> <span class="n">subControl</span><span class="p">,</span> <span class="n">newState</span> <span class="p">);</span>

                <span class="k">if</span> <span class="p">(</span> <span class="n">hint</span><span class="p">.</span><span class="n">duration</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span>
                <span class="p">{</span>
                    <span class="cm">/*
                        Starting an animator for all primitives,
                        that differ between the states
                     */</span>

                    <span class="k">const</span> <span class="k">auto</span> <span class="n">primitiveCount</span> <span class="o">=</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">primitiveCount</span><span class="p">(</span> <span class="n">type</span> <span class="p">);</span>

                    <span class="k">for</span> <span class="p">(</span> <span class="n">uint</span> <span class="n">primitive</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">primitive</span> <span class="o">&lt;</span> <span class="n">primitiveCount</span><span class="p">;</span> <span class="n">primitive</span><span class="o">++</span> <span class="p">)</span>
                    <span class="p">{</span>
                        <span class="n">aspect</span><span class="p">.</span><span class="n">setPrimitive</span><span class="p">(</span> <span class="n">type</span><span class="p">,</span> <span class="n">primitive</span> <span class="p">);</span>

                        <span class="k">auto</span> <span class="n">a1</span> <span class="o">=</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinState</span><span class="p">;</span>
                        <span class="k">auto</span> <span class="n">a2</span> <span class="o">=</span> <span class="n">aspect</span> <span class="o">|</span> <span class="n">newState</span><span class="p">;</span>

                        <span class="kt">bool</span> <span class="n">doTransition</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

                        <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">m_data</span><span class="o">-&gt;</span><span class="n">hintTable</span><span class="p">.</span><span class="n">hasStates</span><span class="p">()</span> <span class="p">)</span>
                        <span class="p">{</span>
                            <span class="cm">/*
                                The hints are found by stripping the state bits one by
                                one until a lookup into the hint table is successful.
                                So for deciding whether two aspects lead to the same hint
                                we can stop as soon as the aspects have the same state bits.
                                This way we can reduce the number of lookups significantly
                                for skinnables with many state bits.

                             */</span>
                            <span class="n">doTransition</span> <span class="o">=</span> <span class="o">!</span><span class="n">skinTable</span><span class="p">.</span><span class="n">isResolutionMatching</span><span class="p">(</span> <span class="n">a1</span><span class="p">,</span> <span class="n">a2</span> <span class="p">);</span>
                        <span class="p">}</span>

                        <span class="k">if</span> <span class="p">(</span> <span class="n">doTransition</span> <span class="p">)</span>
                        <span class="p">{</span>
                            <span class="n">startHintTransition</span><span class="p">(</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">hint</span><span class="p">,</span>
                                <span class="n">storedHint</span><span class="p">(</span> <span class="n">a1</span> <span class="p">),</span> <span class="n">storedHint</span><span class="p">(</span> <span class="n">a2</span> <span class="p">)</span> <span class="p">);</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinState</span> <span class="o">=</span> <span class="n">newState</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">control</span><span class="o">-&gt;</span><span class="n">flags</span><span class="p">()</span> <span class="o">&amp;</span> <span class="n">QQuickItem</span><span class="o">::</span><span class="n">ItemHasContents</span> <span class="p">)</span>
        <span class="n">control</span><span class="o">-&gt;</span><span class="n">update</span><span class="p">();</span>
<span class="p">}</span>

<span class="n">QskSkin</span><span class="o">*</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">effectiveSkin</span><span class="p">()</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="n">QskSkin</span><span class="o">*</span> <span class="n">skin</span> <span class="o">=</span> <span class="nb">nullptr</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinlet</span> <span class="p">)</span>
        <span class="n">skin</span> <span class="o">=</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinlet</span><span class="o">-&gt;</span><span class="n">skin</span><span class="p">();</span>

    <span class="k">return</span> <span class="n">skin</span> <span class="o">?</span> <span class="n">skin</span> <span class="o">:</span> <span class="n">qskSetup</span><span class="o">-&gt;</span><span class="n">skin</span><span class="p">();</span>
<span class="p">}</span>

<span class="n">QskAspect</span><span class="o">::</span><span class="n">Placement</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">effectivePlacement</span><span class="p">()</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">NoPlacement</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">updateNode</span><span class="p">(</span> <span class="n">QSGNode</span><span class="o">*</span> <span class="n">parentNode</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">effectiveSkinlet</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">updateNode</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">parentNode</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">QskAspect</span><span class="o">::</span><span class="n">Subcontrol</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">effectiveSubcontrol</span><span class="p">(</span>
    <span class="n">QskAspect</span><span class="o">::</span><span class="n">Subcontrol</span> <span class="n">subControl</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="c1">// derived classes might want to redirect a sub-control</span>
    <span class="k">return</span> <span class="n">subControl</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">QskControl</span><span class="o">*</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">controlCast</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskIsControl</span><span class="p">(</span> <span class="k">this</span> <span class="p">)</span>
        <span class="o">?</span> <span class="k">static_cast</span><span class="o">&lt;</span> <span class="n">QskControl</span><span class="o">*</span> <span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span> <span class="p">)</span> <span class="o">:</span> <span class="nb">nullptr</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">const</span> <span class="n">QskControl</span><span class="o">*</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">controlCast</span><span class="p">()</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">qskIsControl</span><span class="p">(</span> <span class="k">this</span> <span class="p">)</span>
        <span class="o">?</span> <span class="k">static_cast</span><span class="o">&lt;</span> <span class="k">const</span> <span class="n">QskControl</span><span class="o">*</span> <span class="o">&gt;</span><span class="p">(</span> <span class="k">this</span> <span class="p">)</span> <span class="o">:</span> <span class="nb">nullptr</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">debug</span><span class="p">(</span> <span class="n">QDebug</span> <span class="n">debug</span><span class="p">,</span> <span class="n">QskAspect</span> <span class="n">aspect</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="n">qskDebugAspect</span><span class="p">(</span> <span class="n">debug</span><span class="p">,</span> <span class="n">metaObject</span><span class="p">(),</span> <span class="n">aspect</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">debug</span><span class="p">(</span> <span class="n">QDebug</span> <span class="n">debug</span><span class="p">,</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">State</span> <span class="n">state</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="n">qskDebugState</span><span class="p">(</span> <span class="n">debug</span><span class="p">,</span> <span class="n">metaObject</span><span class="p">(),</span> <span class="n">state</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">debug</span><span class="p">(</span> <span class="n">QskAspect</span> <span class="n">aspect</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="n">qskDebugAspect</span><span class="p">(</span> <span class="n">qDebug</span><span class="p">(),</span> <span class="n">metaObject</span><span class="p">(),</span> <span class="n">aspect</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">QskSkinnable</span><span class="o">::</span><span class="n">debug</span><span class="p">(</span> <span class="n">QskAspect</span><span class="o">::</span><span class="n">State</span> <span class="n">state</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="n">qskDebugState</span><span class="p">(</span> <span class="n">qDebug</span><span class="p">(),</span> <span class="n">metaObject</span><span class="p">(),</span> <span class="n">state</span> <span class="p">);</span>
<span class="p">}</span>

<span class="cp">#ifndef QT_NO_DEBUG_STREAM
</span>
<span class="cp">#include &lt;qdebug.h&gt;
</span>
<span class="n">QDebug</span> <span class="k">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span> <span class="n">QDebug</span> <span class="n">debug</span><span class="p">,</span> <span class="k">const</span> <span class="n">QskSkinHintStatus</span><span class="o">&amp;</span> <span class="n">status</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">QDebugStateSaver</span> <span class="n">saver</span><span class="p">(</span> <span class="n">debug</span> <span class="p">);</span>
    <span class="n">debug</span><span class="p">.</span><span class="n">nospace</span><span class="p">();</span>

    <span class="k">switch</span><span class="p">(</span> <span class="n">status</span><span class="p">.</span><span class="n">source</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">case</span> <span class="n">QskSkinHintStatus</span><span class="p">:</span><span class="o">:</span><span class="n">Skinnable</span><span class="o">:</span>
            <span class="n">debug</span> <span class="o">&lt;&lt;</span> <span class="s">"Skinnable"</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="n">QskSkinHintStatus</span><span class="p">:</span><span class="o">:</span><span class="n">Skin</span><span class="o">:</span>
            <span class="n">debug</span> <span class="o">&lt;&lt;</span> <span class="s">"Skin"</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="n">QskSkinHintStatus</span><span class="p">:</span><span class="o">:</span><span class="n">Animator</span><span class="o">:</span>
            <span class="n">debug</span> <span class="o">&lt;&lt;</span> <span class="s">"Animator"</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">default</span><span class="o">:</span>
            <span class="n">debug</span> <span class="o">&lt;&lt;</span> <span class="s">"None"</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">debug</span> <span class="o">&lt;&lt;</span> <span class="s">": "</span> <span class="o">&lt;&lt;</span> <span class="n">status</span><span class="p">.</span><span class="n">aspect</span><span class="p">;</span>

    <span class="k">return</span> <span class="n">debug</span><span class="p">;</span>
<span class="p">}</span>

<span class="cp">#endif
</span></code></pre></div></div>

<hr />

<p>Updated on  3 February 2021 at 15:05:47 CET</p>

          
          
          
            
            
            
            
            
          
        </div><!-- .post-content -->
      </div><!-- .post-inside -->
    </article><!-- .post -->
    <nav id="page-nav" class="page-nav">
      <div id="page-nav-inside" class="page-nav-inside sticky">
        <h2 class="page-nav-title">Jump to Section</h2>
        <div id="page-nav-link-container"></div>
      </div><!-- .page-nav-inside -->
    </nav><!-- .page-nav -->
  </div><!-- .docs-content -->
</div><!-- .inner-->

  </main><!-- .site-content -->
  <footer id="colophon" class="site-footer outer">
  <div class="inner">
    <div class="site-footer-inside">
      <p class="site-info">
        
        
        <span class="copyright">&copy; Stackbit. All rights reserved. This Jamstack site was created on <a href="https://www.stackbit.com" target="_blank" rel="noopener">Stackbit</a>. Get yours <a href="https://app.stackbit.com/create?theme=libris" target="_blank" rel="noopener">here</a>.</span>
        
        
      </p><!-- .site-info -->
      
      
      <div class="social-links">
        
          
          
<a class="button button-icon" href="https://twitter.com/" target="_blank" rel="noopener">
  
  <span class="icon fab fa-twitter" aria-hidden="true"></span><span class="screen-reader-text">Twitter</span>
  
</a>

        
          
          
<a class="button button-icon" href="https://www.linkedin.com/" target="_blank" rel="noopener">
  
  <span class="icon fab fa-linkedin" aria-hidden="true"></span><span class="screen-reader-text">LinkedIn</span>
  
</a>

        
          
          
<a class="button button-icon" href="https://github.com/" target="_blank" rel="noopener">
  
  <span class="icon fab fa-github" aria-hidden="true"></span><span class="screen-reader-text">GitHub</span>
  
</a>

        
      </div><!-- .social-links -->
      
    </div><!-- .site-footer-inside -->
  </div><!-- .inner -->
</footer><!-- .site-footer -->

</div><!-- .site -->

        <!-- Scripts -->
        <script src="/assets/js/plugins.js"></script>
        <script src="/assets/js/main.js"></script>
        <script src="/assets/js/page-load.js"></script>
    </body> 
</html>
