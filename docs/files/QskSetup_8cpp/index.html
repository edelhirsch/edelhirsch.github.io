<!doctype html>
<html lang="en">
    <head>    

        <title>controls/QskSetup.cpp - Stackbit Libris Theme</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="A documentation theme"/>
        <link href="https://fonts.googleapis.com/css?family=Lato:400,400i,700,700i%26display=swap" rel="stylesheet"> 
        <link rel="stylesheet" href="/assets/css/main.css">
        
    </head>
    <body>
        
        <div id="page" class="site">
  <header id="masthead" class="site-header outer">
  <div class="inner">
    <div class="site-header-inside">
      <div class="site-branding">
        
        
        <p class="site-title"><a href="/"></a></p>
        
      </div><!-- .site-branding -->
      
      
      <nav id="main-navigation" class="site-navigation" aria-label="Main Navigation">
        <div class="site-nav-inside">
          <button id="menu-close" class="menu-toggle"><span class="screen-reader-text">Open Menu</span><span class="icon-close" aria-hidden="true"></span></button>
          <ul class="menu">
          
            
            
            <li class="menu-item">
              
              
<a class="" href="/">
  
  Home
  
</a>

              
            </li>
          
            
            
            <li class="menu-item">
              
              
<a class="" href="/docs">
  
  Documentation
  
</a>

              
            </li>
          
            
            
            <li class="menu-item menu-button">
              
              
<a class="button" href="https://github.com/uwerat/qskinny">
  
  GitHub
  
</a>

              
            </li>
          
          </ul>
        </div><!-- .site-nav-inside -->
      </nav><!-- .site-navigation -->
      <button id="menu-open" class="menu-toggle"><span class="screen-reader-text">Close Menu</span><span class="icon-menu" aria-hidden="true"></span></button>
      
    </div><!-- .site-header-inside -->
  </div><!-- .inner -->
</header><!-- .site-header -->

  <main id="content" class="site-content">
    <div class="inner outer">
  <div class="docs-content">
    
    




<nav id="docs-nav" class="docs-nav">
  <div id="docs-nav-inside" class="docs-nav-inside sticky">
    <button id="docs-nav-toggle" class="docs-nav-toggle">Navigate Docs<span class="icon-angle-right" aria-hidden="true"></span></button>
    <div class="docs-nav-menu">
      <ul id="docs-menu" class="docs-menu">
        <li class="docs-menu-item">
          <a href="/docs/">Introduction</a>
        </li>
        
          
          
          
          
          
          
          
          <li class="docs-menu-item has-children">
            <a href="/docs/tutorials/">Tutorials</a>
            
            
              <button class="docs-submenu-toggle"><span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span></button>
              
              


<ul class="docs-submenu">
  
    <li class="docs-menu-item">
      <a href="/docs/tutorials/1-QSkinny/">1. Introduction</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/tutorials/2-writing-your-first-application/">2. Writing your first application</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/tutorials/3-Layouts/">3. Layouts</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/tutorials/4-Skins/">4. Skins</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/tutorials/5-scalable-graphics/">5. (Scalable) graphics</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/tutorials/6-parents-and-parent-items/">6. Parents and parent items</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/tutorials/7-qskinny-and-qml/">7. Using QSkinny and QML</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/tutorials/8-writing-own-controls/">8. Writing own controls</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/tutorials/9-scene-graph/">9. Scene graph representations of controls</a>
    </li>
  
</ul>

            
          </li>
        
          
          
          
          
          
          
          
          <li class="docs-menu-item has-children">
            <a href="/docs/modules/">Modules</a>
            
            
              <button class="docs-submenu-toggle"><span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span></button>
              
              


<ul class="docs-submenu">
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group__Animation/">Animation</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group__Controls/">Controls</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group__Core/">Core</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group__Dialogs/">Dialogs</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group__Framework/">Framework</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group__Graphic/">Graphic</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group__Layouts/">Layouts</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group__Scenegraph/">Scenegraph</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group__Skinlets/">Skinlets</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group__Themeing/">Themeing</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group___animation/">Animation</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group___container/">Container</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group___controls/">Controls</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group___core/">Core</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group___dialogs/">Dialogs</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group___framework/">Framework</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group___graphic/">Graphic</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group___layouts/">Layouts</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group___scenegraph/">Scenegraph</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group___skinlets/">Skinlets</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group___themeing/">Themeing</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/modules/group__container/">Container</a>
    </li>
  
</ul>

            
          </li>
        
          
          
          
          
          
          
          
          <li class="docs-menu-item has-children">
            <a href="/docs/classes/">Classes</a>
            
            
              <button class="docs-submenu-toggle"><span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span></button>
              
              


<ul class="docs-submenu">
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskAbstractButton/">QskAbstractButton</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskAnimationHint/">QskAnimationHint</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskAnimator/">QskAnimator</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskAnimatorDriver/">QskAnimatorDriver</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskAnimatorEvent/">QskAnimatorEvent</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskAspect/">QskAspect</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoundedControl/">QskBoundedControl</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoundedInput/">QskBoundedInput</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoundedRangeInput/">QskBoundedRangeInput</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoundedValueInput/">QskBoundedValueInput</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBox/">QskBox</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoxBorderColors/">QskBoxBorderColors</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoxBorderMetrics/">QskBoxBorderMetrics</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoxClipNode/">QskBoxClipNode</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoxNode/">QskBoxNode</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoxRenderer/">QskBoxRenderer</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoxRendererColorMap/">QskBoxRendererColorMap</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoxShapeMetrics/">QskBoxShapeMetrics</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskBoxSkinlet/">QskBoxSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskColorFilter/">QskColorFilter</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskControl/">QskControl</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskCorner/">QskCorner</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskDialog/">QskDialog</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskDialogButton/">QskDialogButton</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskDialogButtonBox/">QskDialogButtonBox</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskDialogSubWindow/">QskDialogSubWindow</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskDialogWindow/">QskDialogWindow</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskDirtyItemFilter/">QskDirtyItemFilter</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskEvent/">QskEvent</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskFlickAnimator/">QskFlickAnimator</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskFocusIndicator/">QskFocusIndicator</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskFocusIndicatorSkinlet/">QskFocusIndicatorSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGeometryChangeEvent/">QskGeometryChangeEvent</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGesture/">QskGesture</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGestureEvent/">QskGestureEvent</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGestureRecognizer/">QskGestureRecognizer</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGradient/">QskGradient</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGradientStop/">QskGradientStop</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGraphic/">QskGraphic</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGraphicIO/">QskGraphicIO</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGraphicImageProvider/">QskGraphicImageProvider</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGraphicLabel/">QskGraphicLabel</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGraphicLabelSkinlet/">QskGraphicLabelSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGraphicNode/">QskGraphicNode</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGraphicPaintEngine/">QskGraphicPaintEngine</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGraphicProvider/">QskGraphicProvider</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGraphicProviderMap/">QskGraphicProviderMap</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGraphicTextureFactory/">QskGraphicTextureFactory</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGridBox/">QskGridBox</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskGridLayoutEngine/">QskGridLayoutEngine</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskHintAnimator/">QskHintAnimator</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskHintAnimatorTable/">QskHintAnimatorTable</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskIndexedLayoutBox/">QskIndexedLayoutBox</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskInputContext/">QskInputContext</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskInputContextFactory/">QskInputContextFactory</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskInputGrabber/">QskInputGrabber</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskInputPanel/">QskInputPanel</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskInputPanelBox/">QskInputPanelBox</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskInputPredictionBar/">QskInputPredictionBar</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskIntervalF/">QskIntervalF</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskLayoutChain/">QskLayoutChain</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskLayoutEngine2D/">QskLayoutEngine2D</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskLayoutHint/">QskLayoutHint</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskLinearBox/">QskLinearBox</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskLinearLayoutEngine/">QskLinearLayoutEngine</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskListView/">QskListView</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskListViewNode/">QskListViewNode</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskListViewSkinlet/">QskListViewSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskMargins/">QskMargins</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskMessageSubWindow/">QskMessageSubWindow</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskMessageWindow/">QskMessageWindow</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskMetaFunction/">QskMetaFunction</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskMetaInvokable/">QskMetaInvokable</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskObjectCounter/">QskObjectCounter</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskObjectCounterHook/">QskObjectCounterHook</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPageIndicator/">QskPageIndicator</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPageIndicatorSkinlet/">QskPageIndicatorSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPaintedNode/">QskPaintedNode</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPainterCommand/">QskPainterCommand</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPanGesture/">QskPanGesture</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPanGestureRecognizer/">QskPanGestureRecognizer</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPlainTextRenderer/">QskPlainTextRenderer</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPopup/">QskPopup</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPopupEvent/">QskPopupEvent</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPopupSkinlet/">QskPopupSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskProgressBar/">QskProgressBar</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskProgressBarSkinlet/">QskProgressBarSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPushButton/">QskPushButton</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskPushButtonSkinlet/">QskPushButtonSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskQuick/">QskQuick</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskQuickItem/">QskQuickItem</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskRgbPalette/">QskRgbPalette</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskRgbValue/">QskRgbValue</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskRichTextRenderer/">QskRichTextRenderer</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSGNode/">QskSGNode</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskScaleEngine/">QskScaleEngine</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskScaleRenderer/">QskScaleRenderer</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskScaleTickmarks/">QskScaleTickmarks</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskScrollArea/">QskScrollArea</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskScrollBox/">QskScrollBox</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskScrollView/">QskScrollView</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskScrollViewSkinlet/">QskScrollViewSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSelectionSubWindow/">QskSelectionSubWindow</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSelectionWindow/">QskSelectionWindow</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSeparator/">QskSeparator</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSeparatorSkinlet/">QskSeparatorSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSetup/">QskSetup</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskShadowMetrics/">QskShadowMetrics</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskShortcutHandler/">QskShortcutHandler</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskShortcutMap/">QskShortcutMap</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSimpleListBox/">QskSimpleListBox</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSizePolicy/">QskSizePolicy</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSkin/">QskSkin</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSkinFactory/">QskSkinFactory</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSkinHintStatus/">QskSkinHintStatus</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSkinHintTable/">QskSkinHintTable</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSkinHintTableEditor/">QskSkinHintTableEditor</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSkinManager/">QskSkinManager</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSkinTransition/">QskSkinTransition</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSkinlet/">QskSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSkinnable/">QskSkinnable</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSlider/">QskSlider</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSliderSkinlet/">QskSliderSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskStackBox/">QskStackBox</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskStackBoxAnimator/">QskStackBoxAnimator</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskStackBoxAnimator1/">QskStackBoxAnimator1</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskStackBoxAnimator3/">QskStackBoxAnimator3</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskStandardSymbol/">QskStandardSymbol</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskStatusIndicator/">QskStatusIndicator</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskStatusIndicatorSkinlet/">QskStatusIndicatorSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSubWindow/">QskSubWindow</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSubWindowArea/">QskSubWindowArea</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSubWindowAreaSkinlet/">QskSubWindowAreaSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSubWindowSkinlet/">QskSubWindowSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskSwipeGesture/">QskSwipeGesture</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTabBar/">QskTabBar</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTabButton/">QskTabButton</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTabButtonSkinlet/">QskTabButtonSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTabView/">QskTabView</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTabViewSkinlet/">QskTabViewSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTapAndHoldGesture/">QskTapAndHoldGesture</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTapGesture/">QskTapGesture</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextColors/">QskTextColors</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextInput/">QskTextInput</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextInputSkinlet/">QskTextInputSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextLabel/">QskTextLabel</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextLabelSkinlet/">QskTextLabelSkinlet</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextNode/">QskTextNode</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextOptions/">QskTextOptions</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextPredictor/">QskTextPredictor</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextRenderer/">QskTextRenderer</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextureNode/">QskTextureNode</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextureNodePrivate/">QskTextureNodePrivate</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTextureRenderer/">QskTextureRenderer</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTickmarksNode/">QskTickmarksNode</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskTickmarksNodePrivate/">QskTickmarksNodePrivate</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskVariantAnimator/">QskVariantAnimator</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskVertex/">QskVertex</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskVirtualKeyboard/">QskVirtualKeyboard</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskWindow/">QskWindow</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskWindowChangeEvent/">QskWindowChangeEvent</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/classQskWindowPrivate/">QskWindowPrivate</a>
    </li>
  
    <li class="docs-menu-item">
      <a href="/docs/classes/structQskVirtualKeyboardLayouts/">QskVirtualKeyboardLayouts</a>
    </li>
  
</ul>

            
          </li>
        
      </ul><!-- .docs-menu -->
    </div><!-- .docs-nav-menu -->
  </div><!-- .docs-nav-inside -->
</nav><!-- .docs-nav -->

    <article class="post type-docs">
      <div class="post-inside">
        <header class="post-header">
          <h1 class="post-title line-left">controls/QskSetup.cpp</h1>
        </header><!-- .post-header -->
        <div class="post-content">
          <h2 id="functions">Functions</h2>

<table>
  <thead>
    <tr>
      <th>Â </th>
      <th>Name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>bool</td>
      <td><strong><a href="/docs/files/QskSetup_8cpp/#function-qskhasenvironment">qskHasEnvironment</a></strong>(const char * env)</td>
    </tr>
    <tr>
      <td>const QskSetup::Flags</td>
      <td><strong><a href="/docs/files/QskSetup_8cpp/#function-qskenvironmentflags">qskEnvironmentFlags</a></strong>()</td>
    </tr>
    <tr>
      <td>QskSetup::Flags</td>
      <td><strong><a href="/docs/files/QskSetup_8cpp/#function-qskdefaultcontrolflags">qskDefaultControlFlags</a></strong>()</td>
    </tr>
    <tr>
      <td>void</td>
      <td><strong><a href="/docs/files/QskSetup_8cpp/#function-qskapplicationhook">qskApplicationHook</a></strong>()</td>
    </tr>
    <tr>
      <td>void</td>
      <td><strong><a href="/docs/files/QskSetup_8cpp/#function-qskapplicationfilter">qskApplicationFilter</a></strong>()</td>
    </tr>
    <tr>
      <td>bool</td>
      <td><strong><a href="/docs/files/QskSetup_8cpp/#function-qskinheritlocale">qskInheritLocale</a></strong>(QskWindow * window, const QLocale &amp; locale)</td>
    </tr>
  </tbody>
</table>

<h2 id="functions-documentation">Functions Documentation</h2>

<h3 id="function-qskhasenvironment">function qskHasEnvironment</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">static</span> <span class="kr">inline</span> <span class="kt">bool</span> <span class="n">qskHasEnvironment</span><span class="p">(</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">env</span>
<span class="p">)</span>
</code></pre></div></div>

<h3 id="function-qskenvironmentflags">function qskEnvironmentFlags</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">static</span> <span class="kr">inline</span> <span class="k">const</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">Flags</span> <span class="n">qskEnvironmentFlags</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="function-qskdefaultcontrolflags">function qskDefaultControlFlags</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">static</span> <span class="kr">inline</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">Flags</span> <span class="n">qskDefaultControlFlags</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="function-qskapplicationhook">function qskApplicationHook</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">static</span> <span class="kt">void</span> <span class="n">qskApplicationHook</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="function-qskapplicationfilter">function qskApplicationFilter</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">static</span> <span class="kt">void</span> <span class="n">qskApplicationFilter</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="function-qskinheritlocale">function qskInheritLocale</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">bool</span> <span class="n">qskInheritLocale</span><span class="p">(</span>
    <span class="n">QskWindow</span> <span class="o">*</span> <span class="n">window</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">QLocale</span> <span class="o">&amp;</span> <span class="n">locale</span>
<span class="p">)</span>
</code></pre></div></div>

<h2 id="source-code">Source code</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/******************************************************************************
 * QSkinny - Copyright (C) 2016 Uwe Rathmann
 * This file may be used under the terms of the QSkinny License, Version 1.0
 *****************************************************************************/</span>

<span class="cp">#include "QskSetup.h"
#include "QskControl.h"
#include "QskControlPrivate.h"
#include "QskGraphicProviderMap.h"
#include "QskObjectTree.h"
#include "QskSkin.h"
#include "QskSkinManager.h"
#include "QskWindow.h"
</span>
<span class="cp">#include &lt;qguiapplication.h&gt;
#include &lt;qpointer.h&gt;
#include &lt;qstylehints.h&gt;
</span>
<span class="n">QskSetup</span><span class="o">*</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">s_instance</span> <span class="o">=</span> <span class="nb">nullptr</span><span class="p">;</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">bool</span> <span class="nf">qskHasEnvironment</span><span class="p">(</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">env</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="kt">bool</span> <span class="n">ok</span><span class="p">;</span>

    <span class="k">const</span> <span class="kt">int</span> <span class="n">value</span> <span class="o">=</span> <span class="n">qEnvironmentVariableIntValue</span><span class="p">(</span> <span class="n">env</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">ok</span> <span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">ok</span> <span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="c1">// All other strings are true, apart from "false"</span>
    <span class="k">auto</span> <span class="n">result</span> <span class="o">=</span> <span class="n">qgetenv</span><span class="p">(</span> <span class="n">env</span> <span class="p">);</span>
    <span class="k">return</span> <span class="o">!</span><span class="n">result</span><span class="p">.</span><span class="n">isEmpty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">result</span> <span class="o">!=</span> <span class="s">"false"</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="k">const</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">Flags</span> <span class="n">qskEnvironmentFlags</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">QskSetup</span><span class="o">::</span><span class="n">Flags</span> <span class="n">flags</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">qskHasEnvironment</span><span class="p">(</span> <span class="s">"QSK_PREFER_RASTER"</span> <span class="p">)</span> <span class="p">)</span>
        <span class="n">flags</span> <span class="o">|=</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">PreferRasterForTextures</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">qskHasEnvironment</span><span class="p">(</span> <span class="s">"QSK_FORCE_BACKGROUND"</span> <span class="p">)</span> <span class="p">)</span>
        <span class="n">flags</span> <span class="o">|=</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">DebugForceBackground</span><span class="p">;</span>

    <span class="k">return</span> <span class="n">flags</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">Flags</span> <span class="n">qskDefaultControlFlags</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">static</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">Flags</span> <span class="n">flags</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">flags</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="n">flags</span> <span class="o">|=</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">DeferredUpdate</span><span class="p">;</span>
        <span class="n">flags</span> <span class="o">|=</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">DeferredPolish</span><span class="p">;</span>
        <span class="n">flags</span> <span class="o">|=</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">DeferredLayout</span><span class="p">;</span>
        <span class="n">flags</span> <span class="o">|=</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">CleanupOnVisibility</span><span class="p">;</span>
        <span class="n">flags</span> <span class="o">|=</span> <span class="n">qskEnvironmentFlags</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">flags</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">qskApplicationHook</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">QskSetup</span><span class="o">::</span><span class="n">setup</span><span class="p">();</span>
    <span class="n">qAddPostRoutine</span><span class="p">(</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">cleanup</span> <span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">qskApplicationFilter</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">QCoreApplication</span><span class="o">::</span><span class="n">instance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">installEventFilter</span><span class="p">(</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">instance</span><span class="p">()</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">Q_CONSTRUCTOR_FUNCTION</span><span class="p">(</span> <span class="n">qskApplicationHook</span> <span class="p">)</span>
<span class="n">Q_COREAPP_STARTUP_FUNCTION</span><span class="p">(</span> <span class="n">qskApplicationFilter</span> <span class="p">)</span>

<span class="k">extern</span> <span class="kt">bool</span> <span class="n">qskInheritLocale</span><span class="p">(</span> <span class="n">QskWindow</span><span class="o">*</span><span class="p">,</span> <span class="k">const</span> <span class="n">QLocale</span><span class="o">&amp;</span> <span class="p">);</span>

<span class="k">namespace</span>
<span class="p">{</span>
    <span class="k">class</span> <span class="nc">VisitorLocale</span> <span class="k">final</span> <span class="o">:</span> <span class="k">public</span> <span class="n">QskObjectTree</span><span class="o">::</span><span class="n">ResolveVisitor</span><span class="o">&lt;</span> <span class="n">QLocale</span> <span class="o">&gt;</span>
    <span class="p">{</span>
      <span class="k">public</span><span class="o">:</span>
        <span class="n">VisitorLocale</span><span class="p">()</span>
            <span class="o">:</span> <span class="n">ResolveVisitor</span><span class="o">&lt;</span> <span class="n">QLocale</span> <span class="o">&gt;</span><span class="p">(</span> <span class="s">"locale"</span> <span class="p">)</span>
        <span class="p">{</span>
        <span class="p">}</span>

      <span class="k">private</span><span class="o">:</span>
        <span class="kt">bool</span> <span class="n">setImplicitValue</span><span class="p">(</span> <span class="n">QskControl</span><span class="o">*</span> <span class="n">control</span><span class="p">,</span>
            <span class="k">const</span> <span class="n">QLocale</span><span class="o">&amp;</span> <span class="n">locale</span> <span class="p">)</span> <span class="k">override</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">QskControlPrivate</span><span class="o">::</span><span class="n">inheritLocale</span><span class="p">(</span> <span class="n">control</span><span class="p">,</span> <span class="n">locale</span> <span class="p">);</span>
        <span class="p">}</span>

        <span class="kt">bool</span> <span class="n">setImplicitValue</span><span class="p">(</span> <span class="n">QskWindow</span><span class="o">*</span> <span class="n">window</span><span class="p">,</span>
            <span class="k">const</span> <span class="n">QLocale</span><span class="o">&amp;</span> <span class="n">locale</span> <span class="p">)</span> <span class="k">override</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">qskInheritLocale</span><span class="p">(</span> <span class="n">window</span><span class="p">,</span> <span class="n">locale</span> <span class="p">);</span>
        <span class="p">}</span>

        <span class="n">QLocale</span> <span class="n">value</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskControl</span><span class="o">*</span> <span class="n">control</span> <span class="p">)</span> <span class="k">const</span> <span class="k">override</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">control</span><span class="o">-&gt;</span><span class="n">locale</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="n">QLocale</span> <span class="n">value</span><span class="p">(</span> <span class="k">const</span> <span class="n">QskWindow</span><span class="o">*</span> <span class="n">window</span> <span class="p">)</span> <span class="k">const</span> <span class="k">override</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">window</span><span class="o">-&gt;</span><span class="n">locale</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">};</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">QskSetup</span><span class="o">::</span><span class="n">PrivateData</span>
<span class="p">{</span>
  <span class="k">public</span><span class="o">:</span>
    <span class="n">PrivateData</span><span class="p">()</span>
        <span class="o">:</span> <span class="n">controlFlags</span><span class="p">(</span> <span class="n">qskDefaultControlFlags</span><span class="p">()</span> <span class="p">)</span>
    <span class="p">{</span>
    <span class="p">}</span>

    <span class="n">QString</span> <span class="n">skinName</span><span class="p">;</span>
    <span class="n">QPointer</span><span class="o">&lt;</span> <span class="n">QskSkin</span> <span class="o">&gt;</span> <span class="n">skin</span><span class="p">;</span>

    <span class="n">QskGraphicProviderMap</span> <span class="n">graphicProviders</span><span class="p">;</span>
    <span class="n">QskSetup</span><span class="o">::</span><span class="n">Flags</span> <span class="n">controlFlags</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">QskSetup</span><span class="o">::</span><span class="n">QskSetup</span><span class="p">()</span>
    <span class="o">:</span> <span class="n">m_data</span><span class="p">(</span> <span class="k">new</span> <span class="n">PrivateData</span><span class="p">()</span> <span class="p">)</span>
<span class="p">{</span>
<span class="p">}</span>

<span class="n">QskSetup</span><span class="o">::~</span><span class="n">QskSetup</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">s_instance</span> <span class="o">=</span> <span class="nb">nullptr</span><span class="p">;</span> <span class="c1">// we might be destroyed from Qml !</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">setup</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">s_instance</span> <span class="o">==</span> <span class="nb">nullptr</span> <span class="p">)</span>
        <span class="n">s_instance</span> <span class="o">=</span> <span class="k">new</span> <span class="n">QskSetup</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">cleanup</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">delete</span> <span class="n">s_instance</span><span class="p">;</span>
    <span class="n">s_instance</span> <span class="o">=</span> <span class="nb">nullptr</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">setControlFlags</span><span class="p">(</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">Flags</span> <span class="n">flags</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">controlFlags</span> <span class="o">!=</span> <span class="n">flags</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">controlFlags</span> <span class="o">=</span> <span class="n">flags</span><span class="p">;</span>
        <span class="n">Q_EMIT</span> <span class="n">controlFlagsChanged</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">QskSetup</span><span class="o">::</span><span class="n">Flags</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">controlFlags</span><span class="p">()</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">controlFlags</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">resetControlFlags</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">setControlFlags</span><span class="p">(</span> <span class="n">qskDefaultControlFlags</span><span class="p">()</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">setControlFlag</span><span class="p">(</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">Flag</span> <span class="n">flag</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">on</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">controlFlags</span><span class="p">.</span><span class="n">testFlag</span><span class="p">(</span> <span class="n">flag</span> <span class="p">)</span> <span class="o">!=</span> <span class="n">on</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">on</span> <span class="p">)</span>
            <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">controlFlags</span> <span class="o">|=</span> <span class="n">flag</span><span class="p">;</span>
        <span class="k">else</span>
            <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">controlFlags</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="n">flag</span><span class="p">;</span>

        <span class="n">Q_EMIT</span> <span class="n">controlFlagsChanged</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">resetControlFlag</span><span class="p">(</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">Flag</span> <span class="n">flag</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">setControlFlag</span><span class="p">(</span> <span class="n">flag</span><span class="p">,</span> <span class="n">flag</span> <span class="o">&amp;</span> <span class="n">qskDefaultControlFlags</span><span class="p">()</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">testControlFlag</span><span class="p">(</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">Flag</span> <span class="n">flag</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">controlFlags</span><span class="p">.</span><span class="n">testFlag</span><span class="p">(</span> <span class="n">flag</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">QskSkin</span><span class="o">*</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">setSkin</span><span class="p">(</span> <span class="k">const</span> <span class="n">QString</span><span class="o">&amp;</span> <span class="n">skinName</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skin</span> <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="n">skinName</span> <span class="o">==</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinName</span> <span class="p">)</span> <span class="p">)</span>
        <span class="k">return</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skin</span><span class="p">;</span>

    <span class="n">QskSkin</span><span class="o">*</span> <span class="n">skin</span> <span class="o">=</span> <span class="n">QskSkinManager</span><span class="o">::</span><span class="n">instance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">createSkin</span><span class="p">(</span> <span class="n">skinName</span> <span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">skin</span> <span class="o">==</span> <span class="nb">nullptr</span> <span class="p">)</span>
        <span class="k">return</span> <span class="nb">nullptr</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">skin</span><span class="o">-&gt;</span><span class="n">parent</span><span class="p">()</span> <span class="o">==</span> <span class="nb">nullptr</span> <span class="p">)</span>
        <span class="n">skin</span><span class="o">-&gt;</span><span class="n">setParent</span><span class="p">(</span> <span class="k">this</span> <span class="p">);</span>

    <span class="k">const</span> <span class="n">QskSkin</span><span class="o">*</span> <span class="n">oldSkin</span> <span class="o">=</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skin</span><span class="p">;</span>

    <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skin</span> <span class="o">=</span> <span class="n">skin</span><span class="p">;</span>
    <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinName</span> <span class="o">=</span> <span class="n">skinName</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">oldSkin</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Q_EMIT</span> <span class="n">skinChanged</span><span class="p">(</span> <span class="n">skin</span> <span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span> <span class="n">oldSkin</span><span class="o">-&gt;</span><span class="n">parent</span><span class="p">()</span> <span class="o">==</span> <span class="k">this</span> <span class="p">)</span>
            <span class="k">delete</span> <span class="n">oldSkin</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skin</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">QString</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">skinName</span><span class="p">()</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinName</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">QskSkin</span><span class="o">*</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">skin</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skin</span> <span class="o">==</span> <span class="nb">nullptr</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skin</span> <span class="o">=</span> <span class="n">QskSkinManager</span><span class="o">::</span><span class="n">instance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">createSkin</span><span class="p">(</span> <span class="n">QString</span><span class="p">()</span> <span class="p">);</span>
        <span class="n">Q_ASSERT</span><span class="p">(</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skin</span> <span class="p">);</span>

        <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skin</span><span class="o">-&gt;</span><span class="n">setParent</span><span class="p">(</span> <span class="k">this</span> <span class="p">);</span>
        <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skinName</span> <span class="o">=</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skin</span><span class="o">-&gt;</span><span class="n">objectName</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skin</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">addGraphicProvider</span><span class="p">(</span> <span class="k">const</span> <span class="n">QString</span><span class="o">&amp;</span> <span class="n">providerId</span><span class="p">,</span> <span class="n">QskGraphicProvider</span><span class="o">*</span> <span class="n">provider</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">graphicProviders</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span> <span class="n">providerId</span><span class="p">,</span> <span class="n">provider</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">QskGraphicProvider</span><span class="o">*</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">graphicProvider</span><span class="p">(</span> <span class="k">const</span> <span class="n">QString</span><span class="o">&amp;</span> <span class="n">providerId</span> <span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skin</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="n">QskGraphicProvider</span><span class="o">*</span> <span class="n">provider</span> <span class="o">=</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">skin</span><span class="o">-&gt;</span><span class="n">graphicProvider</span><span class="p">(</span> <span class="n">providerId</span> <span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">provider</span> <span class="p">)</span>
            <span class="k">return</span> <span class="n">provider</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">m_data</span><span class="o">-&gt;</span><span class="n">graphicProviders</span><span class="p">.</span><span class="n">provider</span><span class="p">(</span> <span class="n">providerId</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">QLocale</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">inheritedLocale</span><span class="p">(</span> <span class="k">const</span> <span class="n">QObject</span><span class="o">*</span> <span class="n">object</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">VisitorLocale</span> <span class="n">visitor</span><span class="p">;</span>
    <span class="n">visitor</span><span class="p">.</span><span class="n">setResolveValue</span><span class="p">(</span> <span class="n">QLocale</span><span class="p">()</span> <span class="p">);</span>

    <span class="n">QskObjectTree</span><span class="o">::</span><span class="n">traverseUp</span><span class="p">(</span> <span class="k">const_cast</span><span class="o">&lt;</span> <span class="n">QObject</span><span class="o">*</span> <span class="o">&gt;</span><span class="p">(</span> <span class="n">object</span> <span class="p">),</span> <span class="n">visitor</span> <span class="p">);</span>
    <span class="k">return</span> <span class="n">visitor</span><span class="p">.</span><span class="n">resolveValue</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">inheritLocale</span><span class="p">(</span> <span class="n">QObject</span><span class="o">*</span> <span class="n">object</span><span class="p">,</span> <span class="k">const</span> <span class="n">QLocale</span><span class="o">&amp;</span> <span class="n">locale</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">VisitorLocale</span> <span class="n">visitor</span><span class="p">;</span>
    <span class="n">visitor</span><span class="p">.</span><span class="n">setResolveValue</span><span class="p">(</span> <span class="n">locale</span> <span class="p">);</span>

    <span class="n">QskObjectTree</span><span class="o">::</span><span class="n">traverseDown</span><span class="p">(</span> <span class="n">object</span><span class="p">,</span> <span class="n">visitor</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">eventFilter</span><span class="p">(</span> <span class="n">QObject</span><span class="o">*</span> <span class="n">object</span><span class="p">,</span> <span class="n">QEvent</span><span class="o">*</span> <span class="n">event</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="k">auto</span> <span class="n">control</span> <span class="o">=</span> <span class="n">qskControlCast</span><span class="p">(</span> <span class="n">object</span> <span class="p">)</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="cm">/*
            Qt::FocusPolicy has always been there with widgets, got lost with
            Qt/Quick and has been reintroduced with Qt/Quick Controls 2 ( QC2 ).
            Unfortunately this was done once more by adding code on top instead
            of fixing the foundation.

            But we also don't want to have how it is done in QC2 by adding
            the focus management in the event handler of the base class.
            This implementation reverts the expected default behaviour of when
            events are accepted/ignored + is an error prone nightmare, when it
            comes to overloading event handlers missing to call the base class.

            That's why we prefer to do the focus management outside of the
            event handlers.
         */</span>
        <span class="k">switch</span> <span class="p">(</span> <span class="n">event</span><span class="o">-&gt;</span><span class="n">type</span><span class="p">()</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="k">case</span> <span class="n">QEvent</span><span class="p">:</span><span class="o">:</span><span class="n">MouseButtonPress</span><span class="o">:</span>
            <span class="k">case</span> <span class="n">QEvent</span><span class="p">:</span><span class="o">:</span><span class="n">MouseButtonRelease</span><span class="o">:</span>
            <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span> <span class="p">(</span> <span class="n">control</span><span class="o">-&gt;</span><span class="n">focusPolicy</span><span class="p">()</span> <span class="o">&amp;</span> <span class="n">Qt</span><span class="o">::</span><span class="n">ClickFocus</span> <span class="p">)</span> <span class="o">==</span> <span class="n">Qt</span><span class="o">::</span><span class="n">ClickFocus</span> <span class="p">)</span>
                <span class="p">{</span>
                    <span class="k">const</span> <span class="kt">bool</span> <span class="n">focusOnRelease</span> <span class="o">=</span>
                        <span class="n">QGuiApplication</span><span class="o">::</span><span class="n">styleHints</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">setFocusOnTouchRelease</span><span class="p">();</span>

                    <span class="k">if</span> <span class="p">(</span> <span class="n">focusOnRelease</span> <span class="p">)</span>
                    <span class="p">{</span>
                        <span class="k">if</span> <span class="p">(</span> <span class="n">event</span><span class="o">-&gt;</span><span class="n">type</span><span class="p">()</span> <span class="o">==</span> <span class="n">QEvent</span><span class="o">::</span><span class="n">MouseButtonRelease</span> <span class="p">)</span>
                            <span class="n">control</span><span class="o">-&gt;</span><span class="n">forceActiveFocus</span><span class="p">(</span> <span class="n">Qt</span><span class="o">::</span><span class="n">MouseFocusReason</span> <span class="p">);</span>
                    <span class="p">}</span>
                    <span class="k">else</span>
                    <span class="p">{</span>
                        <span class="k">if</span> <span class="p">(</span> <span class="n">event</span><span class="o">-&gt;</span><span class="n">type</span><span class="p">()</span> <span class="o">==</span> <span class="n">QEvent</span><span class="o">::</span><span class="n">MouseButtonPress</span> <span class="p">)</span>
                            <span class="n">control</span><span class="o">-&gt;</span><span class="n">forceActiveFocus</span><span class="p">(</span> <span class="n">Qt</span><span class="o">::</span><span class="n">MouseFocusReason</span> <span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">case</span> <span class="n">QEvent</span><span class="p">:</span><span class="o">:</span><span class="n">Wheel</span><span class="o">:</span>
            <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">control</span><span class="o">-&gt;</span><span class="n">isWheelEnabled</span><span class="p">()</span> <span class="p">)</span>
                <span class="p">{</span>
                    <span class="cm">/*
                        We block further processing of the event. This is in line
                        with not receiving any mouse event that have not been
                        explicitly enabled with setAcceptedMouseButtons().

                     */</span>
                    <span class="n">event</span><span class="o">-&gt;</span><span class="n">ignore</span><span class="p">();</span>
                    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
                <span class="p">}</span>

                <span class="k">if</span> <span class="p">(</span> <span class="p">(</span> <span class="n">control</span><span class="o">-&gt;</span><span class="n">focusPolicy</span><span class="p">()</span> <span class="o">&amp;</span> <span class="n">Qt</span><span class="o">::</span><span class="n">WheelFocus</span> <span class="p">)</span> <span class="o">==</span> <span class="n">Qt</span><span class="o">::</span><span class="n">WheelFocus</span> <span class="p">)</span>
                    <span class="n">control</span><span class="o">-&gt;</span><span class="n">forceActiveFocus</span><span class="p">(</span> <span class="n">Qt</span><span class="o">::</span><span class="n">MouseFocusReason</span> <span class="p">);</span>

                <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">default</span><span class="o">:</span>
                <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">QskSetup</span><span class="o">*</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">qmlAttachedProperties</span><span class="p">(</span> <span class="n">QObject</span><span class="o">*</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">QskSetup</span><span class="o">::</span><span class="n">instance</span><span class="p">();</span>
<span class="p">}</span>

<span class="n">Q_DECLARE_METATYPE</span><span class="p">(</span> <span class="n">QskSkin</span><span class="o">*</span> <span class="p">)</span>
<span class="cp">#include "moc_QskSetup.cpp"
</span></code></pre></div></div>

<hr />

<p>Updated on  3 February 2021 at 15:05:47 CET</p>

          
          
          
            
            
            
            
            
          
        </div><!-- .post-content -->
      </div><!-- .post-inside -->
    </article><!-- .post -->
    <nav id="page-nav" class="page-nav">
      <div id="page-nav-inside" class="page-nav-inside sticky">
        <h2 class="page-nav-title">Jump to Section</h2>
        <div id="page-nav-link-container"></div>
      </div><!-- .page-nav-inside -->
    </nav><!-- .page-nav -->
  </div><!-- .docs-content -->
</div><!-- .inner-->

  </main><!-- .site-content -->
  <footer id="colophon" class="site-footer outer">
  <div class="inner">
    <div class="site-footer-inside">
      <p class="site-info">
        
        
        <span class="copyright">&copy; Stackbit. All rights reserved. This Jamstack site was created on <a href="https://www.stackbit.com" target="_blank" rel="noopener">Stackbit</a>. Get yours <a href="https://app.stackbit.com/create?theme=libris" target="_blank" rel="noopener">here</a>.</span>
        
        
      </p><!-- .site-info -->
      
      
      <div class="social-links">
        
          
          
<a class="button button-icon" href="https://twitter.com/" target="_blank" rel="noopener">
  
  <span class="icon fab fa-twitter" aria-hidden="true"></span><span class="screen-reader-text">Twitter</span>
  
</a>

        
          
          
<a class="button button-icon" href="https://www.linkedin.com/" target="_blank" rel="noopener">
  
  <span class="icon fab fa-linkedin" aria-hidden="true"></span><span class="screen-reader-text">LinkedIn</span>
  
</a>

        
          
          
<a class="button button-icon" href="https://github.com/" target="_blank" rel="noopener">
  
  <span class="icon fab fa-github" aria-hidden="true"></span><span class="screen-reader-text">GitHub</span>
  
</a>

        
      </div><!-- .social-links -->
      
    </div><!-- .site-footer-inside -->
  </div><!-- .inner -->
</footer><!-- .site-footer -->

</div><!-- .site -->

        <!-- Scripts -->
        <script src="/assets/js/plugins.js"></script>
        <script src="/assets/js/main.js"></script>
        <script src="/assets/js/page-load.js"></script>
    </body> 
</html>
